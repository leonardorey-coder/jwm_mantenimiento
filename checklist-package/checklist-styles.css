@media (max-width: 600px) {
  .checklist-card-header {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  .checklist-header-top {
    width: 100%;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
  }
  .checklist-room-title {
    width: 100%;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: 0.75rem;
  }
  .checklist-header-bottom {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: 0.7rem;
    margin-top: 0.3rem;
  }
  .checklist-meta-item {
    flex: 1 1 30%;
    min-width: 110px;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--negro-carbon);
    background: none;
    border: none;
    padding: 0;
  }
  .checklist-editor-tag {
    color: var(--verde-oliva);
  }
}

/* Nota: El selector de editores ahora usa un `select` nativo dentro de `.select-container.premium-select`.
   Se eliminaron los estilos del dropdown personalizado para usar la apariencia estándar de selects. */

/* El control de editores ahora usa un `select` nativo dentro de `.select-container.premium-select`.
   Se quitaron los estilos del control custom para usar la apariencia nativa del navegador. */

/* Styles specific to checklist filters area: make the four controls span full width and match same format */
#tab-checklist .panel-filtros .busqueda-filtros {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.8rem;
  align-items: start;
}

#tab-checklist .panel-filtros .busqueda-filtros > .campo-busqueda,
#tab-checklist .panel-filtros .busqueda-filtros > .select-container,
#tab-checklist .panel-filtros .busqueda-filtros > .editors-dropdown {
  width: 100%;
}

/* Make inputs and selects full width and with same visual style */
#tab-checklist .panel-filtros .busqueda-filtros input[type="text"],
#tab-checklist .panel-filtros .busqueda-filtros select,
#tab-checklist .panel-filtros .busqueda-filtros .editors-dropdown-toggle {
  width: 100%;
  box-sizing: border-box;
}

/* Prevent dropdown panel from overlapping content by default: it will expand the filters area */
#tab-checklist .panel-filtros {
  overflow: visible;
  padding-bottom: 0.5rem;
}

@media (max-width: 900px) {
  #tab-checklist .panel-filtros .busqueda-filtros {
    grid-template-columns: 1fr;
  }
}
@media (max-width: 600px) {
  .modal-detalles-header .checklist-room-title {
    width: 100%;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: 0.75rem;
  }
  .modal-detalles-header .checklist-header-bottom {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: 0.7rem;
    margin-top: 0.3rem;
  }
  .modal-detalles-header .checklist-meta-item {
    flex: 1 1 30%;
    min-width: 110px;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--negro-carbon);
    background: none;
    border: none;
    padding: 0;
  }
  .modal-detalles-header .checklist-editor-tag {
    color: var(--verde-oliva);
  }
}
/* Estilos para acordeones en modal checklist (solo móvil) */
@media (max-width: 600px) {
  .accordion-block {
    border: 2px solid var(--negro-carbon);
    border-radius: var(--radio-medio);
    margin-bottom: 1rem;
    background: var(--gris-claro);
    box-shadow: 2px 2px 0 var(--negro-carbon);
    overflow: hidden;
  }
  .accordion-toggle {
    width: 100%;
    background: none;
    border: none;
    outline: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 1rem;
    font-weight: 700;
    padding: 1rem;
    cursor: pointer;
    color: var(--negro-carbon);
    transition: background 0.2s;
  }
  .accordion-toggle[aria-expanded="true"] {
    background: var(--gris-separador);
  }
  .accordion-toggle i {
    font-size: 1.1rem;
    transition: transform 0.2s;
  }
  .accordion-toggle[aria-expanded="true"] i {
    transform: rotate(180deg);
  }
  .accordion-content {
    padding: 0.5rem 1rem 1rem 1rem;
    display: none;
    animation: fadeIn 0.3s;
  }
  .accordion-content[style*="display:block"] {
    display: block;
  }
}

/* Botones de exportar estilo sistema (reutiliza filtros-action-button) */
.filtros-action-button.btn-export {
  min-width: 150px;
  display: flex;
  align-items: center;
  gap: 0.7rem;
  padding: 0.7rem 1.2rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: var(--blanco);
  color: var(--negro-carbon);
  font-size: 0.95rem;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 3px 3px 0 var(--negro-carbon);
  transition: all 0.2s;
}
.filtros-action-button.btn-export.excel {
  border-color: #198754;
  color: #198754;
}
.filtros-action-button.btn-export.pdf {
  border-color: #b86b6b;
  color: #b86b6b;
}
.filtros-action-button.btn-export:hover {
  background: var(--negro-carbon);
  color: var(--blanco);
  transform: translate(-1px, -1px);
}
.filtros-action-button.btn-export:active {
  transform: translate(1px, 1px);
}
/* ========================================
   JW MARRIOTT - SISTEMA DE MANTENIMIENTO
   Premium Design System
   ======================================== */

/* Importar fuentes */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700;900&family=Montserrat:wght@300;400;500;600;700&display=swap');

/* ========================================
   VARIABLES - PALETA JW MARRIOTT
   ======================================== */
:root[data-theme="light"], :root {
  /* Colores principales JW Marriott - Tema Claro */
  --negro-carbon: #1E1E1E;
  --gris-oscuro: #2C2C2C;
  --gris-grafito: #3A3A3A;
  --blanco: #FFFFFF;
  --gris-claro: #F5F5F5;
  --gris-separador: #EAEAEA;
  --verde-oliva: #4C544C;
  --rojo-vino: #A15C5C;
  --borgoña: #B86B6B;
  
  /* Colores funcionales */
  --color-exito: #4C544C;
  --color-advertencia: #FFB500;
  --color-peligro: #A15C5C;
  --color-info: #3A3A3A;
  
  /* Semáforo de prioridades */
  --prioridad-alta: #A15C5C;
  --prioridad-media: #FFB500;
  --prioridad-baja: #4C544C;
  --semaforo-muted: rgba(76, 84, 76, 0.35);
  /* Colores de estado (unificados) */
  --estado-bueno: #00ff00;
  --estado-regular: #ffff00;
  --estado-malo: #ff0000;
  
  /* Colores de fondo y texto (tema claro) */
  --bg-principal: #FFFFFF;
  --bg-secundario: #F5F5F5;
  --bg-header: #1E1E1E;
  --texto-principal: #1E1E1E;
  --texto-secundario: #3A3A3A;
  --texto-header: #FFFFFF;
  --border-color: #1E1E1E;
  
  /* Sombras y efectos */
  --sombra-suave: 0 2px 8px rgba(0,0,0,0.08);
  --sombra-media: 0 4px 16px rgba(0,0,0,0.12);
  --sombra-fuerte: 12px 12px 0 #000;
  --sombra-brutal: 17px 17px 0 #000;
  
  /* Transiciones */
  --transicion-rapida: all 0.2s ease;
  --transicion-normal: all 0.3s ease;
  --transicion-lenta: all 0.5s ease;
  
  /* Espaciado */
  --espaciado-xs: 0.5rem;
  --espaciado-sm: 1rem;
  --espaciado-md: 1.5rem;
  --espaciado-lg: 2rem;
  --espaciado-xl: 3rem;
  
  /* Bordes */
  --radio-pequeno: 4px;
  --radio-medio: 8px;
  --radio-grande: 15px;

  /* Brutalist system defaults */
  --brutalist-card-bg: var(--blanco);
  --brutalist-card-border: var(--negro-carbon);
  --brutalist-card-shadow: var(--negro-carbon);
  --brutalist-card-text: var(--negro-carbon);
  --brutalist-card-icon-bg: var(--negro-carbon);
  --brutalist-card-icon-color: var(--blanco);
  --brutalist-button-bg: var(--negro-carbon);
  --brutalist-button-border: var(--negro-carbon);
  --brutalist-button-color: var(--blanco);
  --brutalist-button-shadow: var(--negro-carbon);
  --brutalist-button-secondary-bg: var(--blanco);
  --brutalist-button-secondary-color: var(--negro-carbon);
  --brutalist-button-hover-sheen: rgba(0, 0, 0, 0.12);
  --brutalist-button-mark-hover-bg: #296fbb;
  --brutalist-button-mark-hover-shadow: #004280;
  --brutalist-button-read-hover-bg: #ff0000;
  --brutalist-button-read-hover-shadow: #800000;
}

/* Tema Oscuro */
:root[data-theme="dark"] {
  /* Paleta brutalista monocromática */
  --negro-carbon: #F5F5F5;
  --gris-oscuro: #DCDCDC;
  --gris-grafito: #C0C0C0;
  --blanco: #050505;
  --gris-claro: #0E0E0E;
  --gris-separador: #1A1A1A;
  --verde-oliva: #6EF1C3;
  --rojo-vino: #FF4E4E;
  --borgoña: #FF7E7E;

  /* Colores funcionales */
  --color-exito: #6EF1C3;
  --color-advertencia: #FFDD57;
  --color-peligro: #FF4E4E;
  --color-info: #C0C0C0;

  /* Semáforo de prioridades */
  --prioridad-alta: #FF4E4E;
  --prioridad-media: #FFDD57;
  --prioridad-baja: #60FF80;
  --semaforo-muted: rgba(255, 255, 255, 0.28);
  /* Colores de estado (unificados para dark) */
  --estado-bueno: #00ff00;
  --estado-regular: #ffff00;
  --estado-malo: #ff0000;

  /* Colores de fondo y texto (tema oscuro) */
  --bg-principal: #050505;
  --bg-secundario: #0A0A0A;
  --bg-header: #000000;
  --texto-principal: #F9F9F9;
  --texto-secundario: #C9C9C9;
  --texto-header: #FFFFFF;
  --border-color: #FFFFFF;

  /* Sombras y relieves brutalistas */
  --sombra-suave: 0 2px 8px rgba(255,255,255,0.08);
  --sombra-media: 0 4px 16px rgba(255,255,255,0.12);
  --sombra-fuerte: 10px 10px 0 rgba(255,255,255,0.85);
  --sombra-brutal: 14px 14px 0 rgba(255,255,255,0.95);

  /* Variables específicas del modo brutalista oscuro */
  --brutalist-card-bg: #000000;
  --brutalist-card-border: #FFFFFF;
  --brutalist-card-shadow: #FFFFFF;
  --brutalist-card-text: #FFFFFF;
  --brutalist-card-icon-bg: #FFFFFF;
  --brutalist-card-icon-color: #000000;
  --brutalist-button-bg: #000000;
  --brutalist-button-border: #FFFFFF;
  --brutalist-button-color: #FFFFFF;
  --brutalist-button-shadow: #FFFFFF;
  --brutalist-button-secondary-bg: #FFFFFF;
  --brutalist-button-secondary-color: #000000;
  --brutalist-button-hover-sheen: rgba(255, 255, 255, 0.2);
  --brutalist-button-mark-hover-bg: #296fbb;
  --brutalist-button-mark-hover-shadow: #004280;
  --brutalist-button-read-hover-bg: #ff0000;
  --brutalist-button-read-hover-shadow: #800000;
}

/* ========================================
   RESET Y BASE
   ======================================== */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
  zoom: 0.8;
  /* Efecto de zoom del 80% en toda la UI */
  /* Fallback para Firefox usando font-size base */
  font-size: 12.8px; /* 80% de 16px (tamaño base estándar) */
}

/* Para navegadores que soportan zoom, resetear font-size */
@supports (zoom: 1) {
  html {
    font-size: 16px; /* Restaurar tamaño base cuando zoom está disponible */
  }
}

body {
  font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: var(--bg-secundario);
  color: var(--texto-principal);
  line-height: 1.6;
  min-height: 100vh;
  overflow-x: hidden;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* ========================================
   HEADER PREMIUM - MINIMAL & ELEGANT
   ======================================== */
.premium-header {
  background: var(--bg-header);
  box-shadow: 0 2px 12px rgba(0,0,0,0.15);
  position: sticky;
  top: 0;
  z-index: 1000;
  border-bottom: 2px solid var(--verde-oliva);
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.header-content {
  max-width: 1600px;
  margin: 0 auto;
  padding: 0.75rem 1.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
}

.logo {
  flex: 0 0 auto;
  min-width: 200px;
}

.premium-nav {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  max-width: 600px;
}

.header-controls {
  flex: 0 0 auto;
  min-width: 200px;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 1rem;
}

/* Logo Container */
.logo > div {
  display: flex;
  align-items: center;
  transition: var(--transicion-normal);
}

.logo img {
  max-height: 50px;
  filter: brightness(0) invert(1);
  transition: var(--transicion-normal);
}

.logo:hover img {
  filter: brightness(0) invert(1) drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));
  transform: scale(1.05);
}

.logo-high {
  display: block;
}

.logo-low {
  display: none;
}

/* Header Controls (Tema + Usuario + Logout) */
.header-controls {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.theme-toggle-header {
  width: 40px;
  height: 40px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  background: rgba(255, 255, 255, 0.05);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  color: var(--texto-header);
}

.theme-toggle-header:hover {
  background: rgba(255, 255, 255, 0.12);
  border-color: var(--verde-oliva);
  transform: rotate(180deg) scale(1.05);
}

.theme-toggle-header:active {
  transform: rotate(180deg) scale(0.95);
}

.theme-toggle-header i {
  font-size: 1.1rem;
}

/* User Info - Premium Design */
.user-info {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 0.75rem;
  padding: 0.5rem 1rem;
  background: linear-gradient(135deg, rgba(76, 84, 76, 0.1) 0%, rgba(76, 84, 76, 0.05) 100%);
  border: 1px solid rgba(76, 84, 76, 0.3);
  border-radius: 50px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.user-info::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left 0.5s ease;
}

.user-info:hover::before {
  left: 100%;
}

.user-info:hover {
  background: linear-gradient(135deg, rgba(76, 84, 76, 0.15) 0%, rgba(76, 84, 76, 0.08) 100%);
  border-color: var(--verde-oliva);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(76, 84, 76, 0.2);
}

.user-info::after {
  content: "\f007";
  font-family: "Font Awesome 6 Free";
  font-weight: 900;
  font-size: 1.1rem;
  color: var(--verde-oliva);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: rgba(255, 255, 255, 0.08);
  border-radius: 50%;
  border: 2px solid rgba(76, 84, 76, 0.3);
  transition: all 0.3s ease;
}

.user-info:hover::after {
  background: rgba(76, 84, 76, 0.2);
  border-color: var(--verde-oliva);
  transform: rotate(360deg) scale(1.1);
}

.user-info > div {
  display: flex;
  flex-direction: row;
  gap: 0.5rem;
  align-items: center;
}

.user-name {
  font-weight: 700;
  font-size: 0.9rem;
  color: var(--texto-header);
  letter-spacing: 0.3px;
  line-height: 1;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  white-space: nowrap;
}

.user-role {
  font-size: 0.65rem;
  color: var(--verde-oliva);
  text-transform: uppercase;
  font-weight: 700;
  letter-spacing: 1px;
  padding: 0.2rem 0.5rem;
  background: rgba(76, 84, 76, 0.15);
  border-radius: 12px;
  border: 1px solid rgba(76, 84, 76, 0.3);
  line-height: 1;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.user-info:hover .user-role {
  background: rgba(76, 84, 76, 0.25);
  border-color: var(--verde-oliva);
  transform: scale(1.05);
}

/* Logout Button */
.logout-btn {
  width: 40px;
  height: 40px;
  border: 1px solid rgba(161, 92, 92, 0.4);
  background: rgba(161, 92, 92, 0.08);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  color: var(--rojo-vino);
}

.logout-btn:hover {
  background: var(--rojo-vino);
  color: var(--blanco);
  border-color: var(--rojo-vino);
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(161, 92, 92, 0.4);
}

.logout-btn:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(161, 92, 92, 0.3);
}

.logout-btn i {
  font-size: 1.1rem;
}

/* ========================================
   NAVEGACIÓN PREMIUM - MINIMAL & ELEGANT
   ======================================== */
.premium-nav {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Ocultar menú móvil por defecto - solo visible en móviles */
.premium-nav-mobile {
  display: none;
}

.menu {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.link {
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  height: 42px;
  background-color: transparent;
  color: var(--texto-header);
  text-decoration: none;
  font-family: 'Montserrat', Arial, sans-serif;
  font-weight: 600;
  border: none;
  border-bottom: 2px solid transparent;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  padding: 0 1rem;
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  gap: 0.6rem;
  border-radius: 8px 8px 0 0;
}

.link::before {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 2px;
  background: var(--verde-oliva);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  transform: translateX(-50%);
}

.link:hover {
  background-color: rgba(255, 255, 255, 0.05);
  color: var(--texto-header);
}

.link:hover::before {
  width: 100%;
}

.link:active {
  transform: scale(0.96);
}

.link.active {
  background-color: rgba(76, 84, 76, 0.15);
  color: var(--texto-header);
  border-bottom-color: var(--verde-oliva);
}

.link.active::before {
  width: 100%;
  background: var(--verde-oliva);
}

/* Iconos de navegación */
.link-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  flex-shrink: 0;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.link:hover .link-icon {
  transform: translateY(-2px);
}

.link:active .link-icon {
  transform: translateY(0);
}

.link-icon i {
  font-size: 18px;
}

.link-title {
  display: flex;
  flex-direction: column;
  line-height: 1.2;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  white-space: nowrap;
}

.link:hover .link-title {
  transform: translateY(-1px);
}

.link-title span {
  font-size: 13px;
  letter-spacing: 0.3px;
}

/* ========================================
   CONTENEDOR PRINCIPAL
   ======================================== */
.contenedor {
  max-width: 1400px;
  margin: 0 auto;
  padding: 2rem;
}

/* ========================================
   TABS
   ======================================== */
.tab-content {
  display: none;
  animation: fadeIn 0.5s ease-in;
}

.tab-content.active {
  display: block;
}

/* Ocultar tabs admin-only cuando no es admin */
.tab-content.admin-only {
  display: none !important;
}

body.admin .tab-content.admin-only {
  display: none;
}

body.admin .tab-content.admin-only.active {
  display: block !important;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ========================================
   TÍTULOS
   ======================================== */
.titulos {
  color: var(--negro-carbon);
  text-align: center;
  margin-bottom: var(--espaciado-md);
  font-family: 'Playfair Display', serif;
  position: relative;
}

.t-principal {
  font-size: 2.5rem;
  font-weight: 900;
  letter-spacing: -0.5px;
  background: linear-gradient(135deg, var(--negro-carbon) 0%, var(--gris-oscuro) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.t-secundario {
  font-size: 1.2rem;
  font-weight: 400;
  color: var(--gris-grafito);
  margin-bottom: var(--espaciado-xl);
  font-family: 'Montserrat', sans-serif;
}

/* ========================================
   VISTA DUO
   ======================================== */
.vista-duo {
  display: grid;
  grid-template-columns: 1fr 350px;
  gap: 2rem;
  margin-top: 2rem;
}

.columna-principal {
  min-height: 400px;
}

.columna-lateral {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

/* Asegurar visibilidad del formulario lateral (nueva sección / paneles) */
.panel.formulario-mantenimiento-lateral {
  background: var(--brutalist-card-bg, var(--blanco));
  border: 4px solid var(--brutalist-card-border, var(--negro-carbon));
  color: var(--brutalist-card-text, var(--texto-principal));
  padding: 1rem;
  box-shadow: var(--sombra-fuerte);
  border-radius: 8px;
  min-width: 240px;
}

.panel.formulario-mantenimiento-lateral .brutalist-card__alert {
  color: var(--brutalist-card-text, var(--texto-principal));
}

.panel.formulario-mantenimiento-lateral .brutalist-card__message {
  color: var(--texto-secundario);
}

/* ========================================
   PANEL DE FILTROS
   ======================================== */
.panel-filtros {
  background: var(--blanco);
  border-radius: var(--radio-grande);
  padding: 1.5rem;
  box-shadow: var(--sombra-media);
  margin-bottom: 2rem;
  border: 3px solid var(--negro-carbon);
}

.panel-filtros.panel-filtros-usuarios {
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
}

#tab-usuarios .vista-duo {
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
}

.busqueda-filtros {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 0.8rem;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
}

.quick-report-toast {
  position: fixed;
  right: 24px;
  top: 90px;
  max-width: 320px;
  padding: 1rem 1.2rem;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: var(--blanco);
  box-shadow: 8px 8px 0 var(--negro-carbon);
  z-index: 999;
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 0.25s ease, transform 0.25s ease;
}

.quick-report-toast.visible {
  opacity: 1;
  transform: translateY(0);
}

.quick-report-toast strong {
  display: block;
  font-size: 0.95rem;
  text-transform: uppercase;
  margin-bottom: 0.4rem;
}

.quick-report-toast p {
  margin: 0;
  font-size: 0.85rem;
  color: var(--gris-grafito);
}

.quick-report-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 0.4rem;
}

.quick-report-grid span {
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  padding: 0.45rem 0.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
  font-size: 0.78rem;
  background: var(--gris-claro);
}

.quick-report-grid span strong {
  margin: 0;
  font-size: 1rem;
}

.quick-report-grid span label {
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--gris-grafito);
}


#tab-usuarios .usuarios-filtros {
  grid-template-columns: minmax(280px, 1.6fr) repeat(2, minmax(180px, 1fr));
  max-width: 980px;
  margin-left: 0;
  margin-right: auto;
  align-items: stretch;
}

#tab-usuarios .usuarios-filtros .campo-busqueda,
#tab-usuarios .usuarios-filtros .premium-select {
  height: 100%;
}

#tab-usuarios .usuarios-filtros .premium-select select {
  height: 100%;
}

@media (max-width: 1024px) {
  .busqueda-filtros {
    grid-template-columns: repeat(2, 1fr);
  }

  #tab-usuarios .usuarios-filtros {
    grid-template-columns: repeat(2, minmax(220px, 1fr));
    max-width: 100%;
  }
  
  /* Usuarios - Tablet */
  .usuarios-grid {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }
}

@media (max-width: 640px) {
  .busqueda-filtros {
    grid-template-columns: 1fr;
  }


  #tab-usuarios .usuarios-filtros {
    grid-template-columns: 1fr;
  }
  

body.modal-open {
  overflow: hidden;
}
  /* Usuarios - Mobile */
  .usuarios-grid {
    grid-template-columns: 1fr;
  }
}

.premium-search {
  position: relative;
}

.premium-search input {
  width: 100%;
  padding: 12px 12px 12px 40px;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  font-size: 14px;
  font-family: inherit;
  background: var(--blanco);
  transition: var(--transicion-normal);
}

.premium-search input:focus {
  outline: none;
  transform: scale(1.02);
  background-color: var(--gris-claro);
  box-shadow: 5px 5px 0 var(--negro-carbon);
}

.premium-search .icono-busqueda {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--gris-grafito);
  font-size: 16px;
  pointer-events: none;
  z-index: 10;
  transition: none;
  opacity: 1;
  visibility: visible;
}

/* ========================================
   SÁBANA - FILTROS POR EDIFICIO
   ======================================== */
.sabana-chip-scroll {
  margin-top: 1.25rem;
  width: 100%;
  overflow: hidden;
}

.sabana-chip-wrap {
  --round: 16px;
  display: flex;
  align-items: center;
  padding: 0.35rem;
  gap: 0.2rem;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--round);
  background: var(--blanco);
  box-shadow: 6px 6px 0 var(--negro-carbon);
  overflow-x: auto;
  scrollbar-width: none;
}

.sabana-chip-wrap::-webkit-scrollbar {
  display: none;
}

.sabana-chip-input {
  display: none;
}

.sabana-chip-label {
  cursor: pointer;
  font-weight: 600;
  color: var(--texto-principal);
  padding: 0.6rem 1.4rem;
  border-radius: var(--round);
  transition: background 0.25s ease, color 0.25s ease, transform 0.25s ease;
  white-space: nowrap;
  letter-spacing: 0.4px;
}

.sabana-chip-label span {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
  line-clamp: 1;
}

.sabana-chip-input:checked + .sabana-chip-label {
  background: var(--verde-oliva);
  color: var(--blanco);
  transform: translateY(-2px);
  box-shadow: 0 6px 0 var(--negro-carbon);
}

.sabana-edificio-pill {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.35rem 1rem;
  border-radius: 999px;
  border: 2px solid var(--verde-oliva);
  background: rgba(76, 84, 76, 0.12);
  font-weight: 700;
  text-transform: uppercase;
  font-size: 0.85rem;
  letter-spacing: 0.5px;
}

.sabana-edificio-pill i {
  font-size: 0.85rem;
}

.sabana-filtros {
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  align-items: center;
}

.sabana-select select {
  width: 100%;
}

.sabana-crear-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
}

.brutalist-button.sabana {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  max-width: 240px;
  height: 70px;
  background: linear-gradient(135deg, #1c2a24, #264036);
  color: #f2f2f2;
  text-decoration: none;
  font-weight: 700;
  border: 3px solid #050505;
  padding: 0 18px 0 14px;
  box-sizing: border-box;
  position: relative;
  box-shadow: 5px 5px 0 #050505;
  overflow: hidden;
  transition: all 0.3s ease;
  cursor: pointer;
}

.brutalist-button.sabana::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.15), transparent);
  transition: all 0.6s ease;
}

.brutalist-button.sabana:hover::before {
  left: 100%;
}

.brutalist-button.sabana:hover {
  background: linear-gradient(135deg, #2f5445, #1e352c);
  border-color: #000;
  transform: translate(-2px, -2px);
  box-shadow: 7px 7px 0 #010201;
}

.brutalist-button.sabana:active {
  transform: translate(2px, 2px);
  box-shadow: 3px 3px 0 #000;
}

.sabana-button-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  border: 3px solid #050505;
  background: var(--verde-oliva);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--blanco);
  font-size: 1.2rem;
  box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.2);
  transition: background 0.3s ease, color 0.3s ease;
}

.brutalist-button.sabana:hover .sabana-button-icon {
  background: #f5d060;
  color: #2b2922;
}

.button-text {
  display: flex;
  flex-direction: column;
  line-height: 1.1;
}

.button-text span:first-child {
  font-size: 9px;
  font-weight: 400;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.button-text span:last-child {
  font-size: 16px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  transition: color 0.3s ease;
}

.brutalist-button.sabana:hover .button-text span:last-child {
  color: var(--verde-oliva);
}

.sabana-scroll {
  max-height: 420px;
  overflow-y: auto;
}

.sabana-scroll::-webkit-scrollbar {
  width: 8px;
}

.sabana-scroll::-webkit-scrollbar-thumb {
  background: var(--verde-oliva);
  border-radius: 8px;
}

.modal-sabana {
  max-width: 600px;
  width: 100%;
}

.historial-sabana-item {
  width: 100%;
  text-align: left;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  padding: 1rem;
  margin-bottom: 1rem;
  background: var(--blanco);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.historial-sabana-item:hover {
  transform: translate(-4px, -4px);
  box-shadow: 8px 8px 0 var(--negro-carbon);
}

.historial-sabana-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 700;
}

.historial-sabana-progress {
  display: flex;
  align-items: baseline;
  gap: 0.5rem;
  font-weight: 600;
}

.historial-sabana-progress span:last-child {
  font-size: 0.85rem;
  color: var(--texto-secundario);
}

.form-crear-sabana .input-group {
  margin-bottom: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.form-crear-sabana input,
.form-crear-sabana select,
.form-crear-sabana textarea {
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  padding: 0.75rem 1rem;
  font-family: inherit;
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
  margin-top: 1.5rem;
}

.premium-search:focus-within .icono-busqueda {
  color: var(--gris-grafito);
  opacity: 1;
  visibility: visible;
}

.premium-select {
  position: relative;
}

.premium-select select {
  width: 100%;
  padding: 12px 35px 12px 12px;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  font-size: 14px;
  font-family: inherit;
  background: var(--blanco);
  cursor: pointer;
  appearance: none;
  transition: var(--transicion-normal);
  white-space: nowrap;
  text-overflow: ellipsis;
}

.premium-select select:focus {
  outline: none;
  background: var(--gris-claro);
  box-shadow: 5px 5px 0 var(--negro-carbon);
}

select[data-semaforo-select="prioridad"],
select[data-semaforo-select="estado"] {
  padding-left: 2.35rem;
}

.premium-select[data-semaforo-wrapper="prioridad"],
.premium-select[data-semaforo-wrapper="estado"] {
  --semaforo-active-color: var(--semaforo-muted);
}

.premium-select[data-semaforo-wrapper="prioridad"] .semaforo-select-indicator,
.premium-select[data-semaforo-wrapper="estado"] .semaforo-select-indicator {
  position: absolute;
  left: 12px;
  top: 50%;
  width: 0.8rem;
  height: 0.8rem;
  border-radius: 50%;
  border: 2px solid var(--negro-carbon);
  transform: translateY(-50%);
  box-shadow: 0 0 12px var(--semaforo-active-color);
  background: var(--semaforo-active-color);
  pointer-events: none;
  transition: background 0.2s ease, box-shadow 0.2s ease;
}

.premium-select[data-semaforo-wrapper="prioridad"]::after,
.premium-select[data-semaforo-wrapper="estado"]::after {
  content: '';
  position: absolute;
  left: 12px;
  top: 50%;
  width: 1.15rem;
  height: 1.15rem;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  background: var(--semaforo-active-color);
  opacity: 0.25;
  pointer-events: none;
  filter: blur(3px);
  transition: background 0.2s ease, opacity 0.2s ease;
}

.premium-select[data-semaforo-wrapper="prioridad"][data-semaforo-value="alta"] {
  --semaforo-active-color: var(--prioridad-alta);
}

.premium-select[data-semaforo-wrapper="prioridad"][data-semaforo-value="media"] {
  --semaforo-active-color: var(--prioridad-media);
}

.premium-select[data-semaforo-wrapper="prioridad"][data-semaforo-value="baja"] {
  --semaforo-active-color: var(--prioridad-baja);
}

.premium-select[data-semaforo-wrapper="estado"][data-semaforo-value="bueno"] {
  --semaforo-active-color: var(--estado-bueno);
}

.premium-select[data-semaforo-wrapper="estado"][data-semaforo-value="regular"] {
  --semaforo-active-color: var(--estado-regular);
}

.premium-select[data-semaforo-wrapper="estado"][data-semaforo-value="malo"] {
  --semaforo-active-color: var(--estado-malo);
}

.premium-select[data-semaforo-wrapper="prioridad"][data-semaforo-value="none"] .semaforo-select-indicator,
.premium-select[data-semaforo-wrapper="prioridad"][data-semaforo-value=""] .semaforo-select-indicator,
.premium-select[data-semaforo-wrapper="estado"][data-semaforo-value="none"] .semaforo-select-indicator,
.premium-select[data-semaforo-wrapper="estado"][data-semaforo-value=""] .semaforo-select-indicator {
  border-color: rgba(0, 0, 0, 0.35);
  box-shadow: none;
}

.premium-select[data-semaforo-wrapper="prioridad"][data-semaforo-value="none"]::after,
.premium-select[data-semaforo-wrapper="prioridad"][data-semaforo-value=""]::after,
.premium-select[data-semaforo-wrapper="estado"][data-semaforo-value="none"]::after,
.premium-select[data-semaforo-wrapper="estado"][data-semaforo-value=""]::after {
  opacity: 0.12;
}

select[data-semaforo-select="prioridad"][data-semaforo-value="none"],
select[data-semaforo-select="prioridad"][data-semaforo-value=""] {
  --semaforo-top-color: var(--semaforo-muted);
  --semaforo-middle-color: var(--semaforo-muted);
  --semaforo-bottom-color: var(--semaforo-muted);
}

.premium-select .icono-select {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  color: var(--negro-carbon);
  font-size: 12px;
}

/* ========================================
   BRUTALIST CARDS (0xnihilism)
   ======================================== */
.brutalist-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 2rem;
  align-items: flex-start;
  align-content: flex-start;
  list-style: none;
  padding: 0;
  margin: 0;
}

.brutalist-card {
  background: var(--brutalist-card-bg);
  border: 4px solid var(--brutalist-card-border);
  box-shadow: 10px 10px 0 var(--brutalist-card-shadow);
  transition: transform var(--transicion-normal), box-shadow var(--transicion-normal), background-color var(--transicion-normal);
  padding: 1.5rem;
  position: relative;
  color: var(--brutalist-card-text);
  font-family: 'Montserrat', 'Arial', sans-serif;
}

.brutalist-card:hover {
  transform: translate(-4px, -4px);
  box-shadow: 14px 14px 0 var(--brutalist-card-shadow);
}

.brutalist-card__header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  border-bottom: 2px solid var(--brutalist-card-border);
  padding-bottom: 1rem;
}

.brutalist-card__icon {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--brutalist-card-icon-bg);
  color: var(--brutalist-card-icon-color);
  padding: 0.5rem;
  width: 48px;
  height: 48px;
}

.brutalist-card__icon i {
  font-size: 1.5rem;
  color: var(--brutalist-card-icon-color);
}

.brutalist-card__icon svg {
  width: 1.5rem;
  height: 1.5rem;
  fill: currentColor;
}

.brutalist-card__alert {
  font-weight: 900;
  color: var(--brutalist-card-text);
  font-size: 1.5rem;
  text-transform: uppercase;
  letter-spacing: -0.5px;
}

.brutalist-card__message {
  margin-top: 1rem;
  color: var(--brutalist-card-text);
  font-size: 0.95rem;
  line-height: 1.4;
  font-weight: 600;
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--brutalist-card-border);
}

.brutalist-card__form {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin-top: 1rem;
}

.brutalist-card__actions {
  margin-top: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.brutalist-input {
  padding: 12px;
  border: 3px solid var(--brutalist-card-border);
  font-size: 16px;
  font-family: inherit;
  transition: transform 0.3s, background-color 0.3s, color 0.3s;
  width: 100%;
  background: var(--brutalist-card-bg);
  color: var(--brutalist-card-text);
}

.brutalist-input:focus {
  outline: none;
  transform: scale(1.03);
  background-color: var(--brutalist-card-icon-bg);
  color: var(--brutalist-card-icon-color);
}

/* Mantener texto oscuro en selects incluso cuando están focused */
#cuartoMantenimientoLateral,
#cuartoMantenimientoLateral:focus {
  color: var(--negro-carbon) !important;
  background-color: var(--blanco) !important;
}

/* Selector Minimalista de Estado del Cuarto */
.estado-selector-minimal {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.estado-label-minimal {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--gris-grafito);
  opacity: 0.7;
}

.estado-pills-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}

.estado-pill {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: var(--blanco);
  border: 1.5px solid #e0e0e0;
  border-radius: 20px;
  font-size: 13px;
  font-weight: 500;
  color: var(--gris-grafito);
  cursor: pointer;
  transition: all 0.15s ease;
  outline: none;
  white-space: nowrap;
}

.estado-pill:hover {
  border-color: #bdbdbd;
  background: #fafafa;
  transform: translateY(-1px);
}

.estado-pill.activo {
  border-color: var(--negro-carbon);
  background: var(--negro-carbon);
  color: var(--blanco);
}

.estado-pill.activo .pill-dot {
  border-color: var(--blanco);
}

.pill-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
  border: 1.5px solid transparent;
}

.pill-dot.disponible {
  background: #4CAF50;
}

.pill-dot.ocupado {
  background: #2196F3;
}

.pill-dot.mantenimiento {
  background: #FFC107;
}

.pill-dot.fuera-servicio {
  background: #F44336;
}

.pill-text {
  font-size: 12px;
}

/* Responsive para pantallas pequeñas */
@media (max-width: 500px) {
  .estado-pills-container {
    grid-template-columns: 1fr 1fr;
  }
  
  .pill-text {
    font-size: 11px;
  }
}

.brutalist-card__button {
  display: block;
  width: 100%;
  padding: 0.75rem 1rem;
  text-align: center;
  font-size: 1rem;
  font-weight: 700;
  text-transform: uppercase;
  border: 3px solid var(--brutalist-button-border);
  background-color: var(--brutalist-button-bg);
  color: var(--brutalist-button-color);
  position: relative;
  transition: all 0.2s ease;
  box-shadow: 5px 5px 0 var(--brutalist-button-shadow);
  overflow: hidden;
  text-decoration: none;
  margin-bottom: 1rem;
}

.brutalist-card__button:last-child {
  margin-bottom: 0;
}

.brutalist-card__button::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(120deg, transparent, var(--brutalist-button-hover-sheen), transparent);
  transition: all 0.6s;
}

.brutalist-card__button:hover::before {
  left: 100%;
}

.brutalist-card__button:hover {
  transform: translate(-2px, -2px);
  box-shadow: 7px 7px 0 var(--brutalist-button-shadow);
}

.brutalist-card__button:active {
  transform: translate(5px, 5px);
  box-shadow: none;
}

.brutalist-card__button--read {
  background-color: var(--brutalist-button-secondary-bg);
  color: var(--brutalist-button-secondary-color);
}

.brutalist-card__button--mark {
  background-color: var(--brutalist-button-bg);
  color: var(--brutalist-button-color);
}

.brutalist-card__button--mark:hover {
  background-color: var(--brutalist-button-mark-hover-bg);
  border-color: var(--brutalist-button-mark-hover-bg);
  color: #000;
  box-shadow: 7px 7px 0 var(--brutalist-button-mark-hover-shadow);
}

.brutalist-card__button--read:hover {
  background-color: var(--brutalist-button-read-hover-bg);
  border-color: var(--brutalist-button-read-hover-bg);
  color: #000;
  box-shadow: 7px 7px 0 var(--brutalist-button-read-hover-shadow);
}

/* ========================================
   GRADIENT CARDS
   ======================================== */
.gradient-card {
  background: var(--blanco);
  border: 4px solid var(--negro-carbon);
  border-radius: var(--radio-grande);
  padding: 1.5rem;
  box-shadow: 8px 8px 0 var(--gris-oscuro);
  transition: var(--transicion-normal);
  position: relative;
  overflow: hidden;
}

.gradient-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, var(--verde-oliva) 0%, var(--rojo-vino) 100%);
}

.gradient-card:hover {
  transform: translate(-3px, -3px);
  box-shadow: 11px 11px 0 var(--gris-oscuro);
}

.gradient-card h2 {
  color: var(--negro-carbon);
  font-size: 1.1rem;
  margin-bottom: 1rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.gradient-card h2 i {
  color: var(--verde-oliva);
}

/* ========================================
   BOTONES (omar49511)
   ======================================== */
.container-btn-file {
  display: flex;
  position: relative;
  justify-content: center;
  align-items: center;
  background-color: var(--verde-oliva);
  color: var(--blanco);
  border-style: none;
  padding: 1em 2em;
  border-radius: 0.5em;
  overflow: hidden;
  z-index: 1;
  box-shadow: 4px 8px 10px -3px rgba(0, 0, 0, 0.356);
  transition: all 250ms;
  cursor: pointer;
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  font-size: 16px;
  gap: 0.5rem;
}

.container-btn-file input[type="file"] {
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
}

.container-btn-file svg,
.container-btn-file i {
  margin-right: 0.5em;
  font-size: 20px;
}

.container-btn-file::before {
  content: "";
  position: absolute;
  height: 100%;
  width: 0;
  border-radius: 0.5em;
  background-color: var(--rojo-vino);
  z-index: -1;
  transition: all 350ms;
}

.container-btn-file:hover::before {
  width: 100%;
}

.container-btn-file:active {
  transform: scale(0.95);
}

/* ========================================
   DOCUMENTS BUTTON (vinodjangid07)
   ======================================== */
.Documents-btn {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  width: fit-content;
  height: 55px;
  border: none;
  padding: 0px 20px;
  border-radius: 8px;
  background-color: var(--gris-oscuro);
  gap: 12px;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 4px 4px 10px rgba(0,0,0,0.2);
}

.folderContainer {
  width: 50px;
  height: fit-content;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  position: relative;
}

.fileBack {
  z-index: 1;
  width: 80%;
  height: auto;
}

.filePage {
  width: 50%;
  height: auto;
  position: absolute;
  z-index: 2;
  transition: all 0.3s ease-out;
}

.fileFront {
  width: 85%;
  height: auto;
  position: absolute;
  z-index: 3;
  opacity: 0.95;
  transform-origin: bottom;
  transition: all 0.3s ease-out;
}

.Documents-btn .text {
  color: var(--blanco);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0.5px;
}

.Documents-btn:hover .filePage {
  transform: translateY(-5px);
}

.Documents-btn:hover {
  background-color: var(--gris-grafito);
  transform: translateY(-2px);
  box-shadow: 6px 6px 15px rgba(0,0,0,0.3);
}

.Documents-btn:active {
  transform: scale(0.95);
}

.Documents-btn:hover .fileFront {
  transform: rotateX(30deg);
}

/* ========================================
   DOWNLOAD SPINNER - DOT SPINNER
   ======================================== */
.download-spinner-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(30, 30, 30, 0.95);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  backdrop-filter: blur(10px);
}

.dot-spinner {
  --uib-size: 4.5rem;
  --uib-speed: .9s;
  --uib-color: #4C544C;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  height: var(--uib-size);
  width: var(--uib-size);
}

.dot-spinner__dot {
  position: absolute;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  height: 100%;
  width: 100%;
}

.dot-spinner__dot::before {
  content: '';
  height: 20%;
  width: 20%;
  border-radius: 50%;
  background-color: var(--uib-color);
  transform: scale(0);
  opacity: 0.5;
  animation: pulse0112 calc(var(--uib-speed) * 1.111) ease-in-out infinite;
  box-shadow: 0 0 20px rgba(76, 84, 76, 0.5);
}

.dot-spinner__dot:nth-child(2) {
  transform: rotate(45deg);
}

.dot-spinner__dot:nth-child(2)::before {
  animation-delay: calc(var(--uib-speed) * -0.875);
}

.dot-spinner__dot:nth-child(3) {
  transform: rotate(90deg);
}

.dot-spinner__dot:nth-child(3)::before {
  animation-delay: calc(var(--uib-speed) * -0.75);
}

.dot-spinner__dot:nth-child(4) {
  transform: rotate(135deg);
}

.dot-spinner__dot:nth-child(4)::before {
  animation-delay: calc(var(--uib-speed) * -0.625);
}

.dot-spinner__dot:nth-child(5) {
  transform: rotate(180deg);
}

.dot-spinner__dot:nth-child(5)::before {
  animation-delay: calc(var(--uib-speed) * -0.5);
}

.dot-spinner__dot:nth-child(6) {
  transform: rotate(225deg);
}

.dot-spinner__dot:nth-child(6)::before {
  animation-delay: calc(var(--uib-speed) * -0.375);
}

.dot-spinner__dot:nth-child(7) {
  transform: rotate(270deg);
}

.dot-spinner__dot:nth-child(7)::before {
  animation-delay: calc(var(--uib-speed) * -0.25);
}

.dot-spinner__dot:nth-child(8) {
  transform: rotate(315deg);
}

.dot-spinner__dot:nth-child(8)::before {
  animation-delay: calc(var(--uib-speed) * -0.125);
}

@keyframes pulse0112 {
  0%,
  100% {
    transform: scale(0);
    opacity: 0.5;
  }

  50% {
    transform: scale(1);
    opacity: 1;
  }
}

.download-text {
  color: var(--blanco);
  font-size: 1.2rem;
  font-weight: 500;
  margin-top: 2rem;
  font-family: 'Montserrat', sans-serif;
  letter-spacing: 1px;
}

/* ========================================
   BITÁCORA ESPACIOS COMUNES
   ======================================== */
.espacios-comunes-container {
  display: grid;
  gap: 2rem;
}

.espacios-form {
  max-width: 600px;
  margin: 0 auto 2rem;
}

.espacios-form-content {
  padding: 0;
}
.campos-alerta-form {
  display: none;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 0.75rem;
  margin-bottom: 1rem;
}
.campos-alerta-form .input-group {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}
.campos-alerta-form label {
  font-size: 0.8rem;
  font-weight: 600;
  color: #6a6a7b;
}

.espacios-form-content textarea {
  resize: vertical;
  min-height: 80px;
}

.bitacora-espacios-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
  align-items: flex-start;
  align-content: flex-start;
}

.bitacora-card {
  padding: 1.5rem;
}

.bitacora-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 3px solid var(--negro-carbon);
}

.bitacora-header i {
  font-size: 2rem;
  color: var(--verde-oliva);
}

.bitacora-header h3 {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--negro-carbon);
}

.bitacora-content {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.bitacora-item {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 0.75rem;
  background: var(--gris-claro);
  border-left: 4px solid var(--verde-oliva);
  border-radius: 4px;
}

.bitacora-time {
  font-size: 0.85rem;
  color: var(--gris-grafito);
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.bitacora-desc {
  font-size: 0.95rem;
  color: var(--negro-carbon);
  font-weight: 500;
}

/* ========================================
   REGISTRO DE FILTROS
   ======================================== */
.filtros-container {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.filtros-header {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 2rem;
  align-items: center;
}

.periodo-actual {
  padding: 2rem;
  text-align: center;
}

.periodo-actual h3 {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
}

.periodo-fecha {
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--verde-oliva);
  margin-bottom: 1.5rem;
}

.timer-container {
  margin-top: 1.5rem;
}

.timer-display {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.timer-label {
  font-size: 0.9rem;
  color: var(--gris-grafito);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.timer-value.lcd {
  font-size: 2.5rem;
  font-weight: 900;
  color: var(--rojo-vino);
  font-family: 'Courier New', monospace;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}

.filtros-table-container {
  overflow-x: auto;
  background: var(--blanco);
  border: 4px solid var(--negro-carbon);
  border-radius: var(--radio-grande);
  padding: 1.5rem;
  box-shadow: var(--sombra-fuerte);
}

.filtros-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}

.filtros-table thead {
  background: var(--negro-carbon);
  color: var(--blanco);
}

.filtros-table th {
  padding: 1rem;
  text-align: left;
  font-weight: 700;
  text-transform: uppercase;
  font-size: 0.85rem;
  letter-spacing: 0.5px;
  border-bottom: 3px solid var(--verde-oliva);
}

.filtros-table th i {
  margin-right: 0.5rem;
  color: var(--color-advertencia);
}

.filtros-table tbody tr {
  border-bottom: 2px solid var(--gris-separador);
  transition: var(--transicion-rapida);
}

.filtros-table tbody tr:hover {
  background: var(--gris-claro);
  transform: scale(1.01);
}

.filtros-table td {
  padding: 1rem;
  font-size: 0.95rem;
  font-weight: 500;
}

.brutalist-btn-small {
  padding: 0.5rem 0.75rem;
  border: 2px solid var(--negro-carbon);
  background: var(--blanco);
  color: var(--negro-carbon);
  cursor: pointer;
  font-size: 0.9rem;
  transition: var(--transicion-rapida);
  margin-right: 0.5rem;
}

.brutalist-btn-small:hover {
  background: var(--negro-carbon);
  color: var(--blanco);
  transform: scale(1.1);
}

.filtros-actions {
  display: flex;
  justify-content: center;
  gap: 2rem;
  flex-wrap: wrap;
}

/* ========================================
   LISTAS
   ======================================== */
.lista-cuartos {
  list-style: none;
  padding: 0;
  margin: 0;
}

.lista-vista-rutinas,
.lista-vista-recientes,
.lista-alertas-emitidas,
.lista-historial-alertas {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.panel-alertas-espacios {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.panel-alertas-habitaciones {
  margin-bottom: 1.25rem;
}

.panel-header-alertas {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.panel-header-alertas h2 {
  margin: 0;
  font-size: 1.05rem;
  display: flex;
  align-items: center;
  gap: 0.4rem;
}

.btn-exportar-historial {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.45rem 0.85rem;
  border: 2px solid var(--verde-oliva);
  border-radius: var(--radio-pequeno);
  background: rgba(70, 116, 74, 0.15);
  color: var(--verde-oliva);
  font-weight: 700;
  font-size: 0.85rem;
  cursor: pointer;
  transition: var(--transicion-rapida);
  margin-left: auto;
}

.btn-exportar-historial:hover {
  background: var(--verde-oliva);
  color: var(--blanco);
  transform: translateY(-1px);
}

.btn-exportar-historial i {
  font-size: 0.9rem;
}

.lista-alertas-espacios {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.65rem;
  max-height: 360px;
  overflow-y: auto;
  scroll-behavior: smooth;
}

.lista-alertas-dia-limitada {
  max-height: 230px;
}

.historial-alertas-scroll {
  max-height: 260px;
  overflow-y: auto;
}

.lista-alertas-espacios::-webkit-scrollbar {
  width: 6px;
}

.lista-alertas-espacios::-webkit-scrollbar-thumb {
  background: var(--negro-carbon);
  border-radius: 10px;
}

.alerta-espacio-item {
  padding: 0.85rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: var(--gris-claro);
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.08);
}

.alerta-espacio-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.4rem;
}

.alerta-espacio-badge {
  font-weight: 700;
  color: var(--negro-carbon);
  display: flex;
  align-items: center;
  gap: 0.4rem;
  text-transform: uppercase;
}

.alerta-espacio-descripcion {
  margin: 0 0 0.5rem 0;
  font-size: 0.9rem;
  color: var(--texto-principal);
}

.alerta-espacio-meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.8rem;
  color: var(--gris-grafito);
}

.alerta-meta-secundaria {
  margin-top: 0.35rem;
  font-size: 0.75rem;
  justify-content: flex-start;
  gap: 0.45rem;
  opacity: 0.85;
}

.alerta-espacio-meta span {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
}

.alerta-prioridad-pill {
  font-size: 0.7rem;
  font-weight: 800;
  padding: 0.2rem 0.6rem;
  border-radius: 999px;
  border: 2px solid var(--negro-carbon);
  letter-spacing: 0.5px;
}

.alerta-prioridad-baja {
  background: rgba(0, 153, 0, 0.15);
  color: #017501;
}

.alerta-prioridad-media {
  background: rgba(255, 204, 0, 0.2);
  color: #a66b00;
}

.alerta-prioridad-alta {
  background: rgba(204, 0, 0, 0.2);
  color: #a10000;
}

.alerta-espacio-actions {
  margin-top: 0.5rem;
  display: flex;
  justify-content: flex-end;
}

.alerta-ver-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  border: 2px solid var(--negro-carbon);
  border-radius: 999px;
  padding: 0.25rem 0.8rem;
  background: var(--blanco);
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transicion-rapida);
}

.alerta-ver-btn i {
  font-size: 0.75rem;
}

.alerta-ver-btn:hover {
  background: var(--negro-carbon);
  color: var(--blanco);
}

.alerta-extra-resumen {
  text-align: center;
  font-size: 0.85rem;
  font-weight: 600;
  padding: 0.5rem 0.75rem;
  border: 2px dashed var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: rgba(0, 0, 0, 0.03);
}

.lista-vista-rutinas li,
.lista-vista-recientes li,
.lista-alertas-emitidas li,
.lista-historial-alertas li {
  padding: 0.75rem;
  background: var(--gris-claro);
  border-left: 4px solid var(--verde-oliva);
  border-radius: 4px;
  font-size: 0.9rem;
  transition: var(--transicion-rapida);
}

.lista-vista-rutinas li:hover,
.lista-vista-recientes li:hover,
.lista-alertas-emitidas li:hover,
.lista-historial-alertas li:hover {
  transform: translateX(5px);
  background: var(--gris-separador);
}

/* ========================================
   MENSAJES
   ======================================== */
.mensaje-cargando,
.mensaje-no-cuartos,
.mensaje-no-items {
  text-align: center;
  padding: 3rem 2rem;
  color: var(--gris-grafito);
  font-style: italic;
  font-size: 1.1rem;
}

.mensaje-no-cuartos i {
  font-size: 3rem;
  display: block;
  margin-bottom: 1rem;
  color: var(--gris-grafito);
  opacity: 0.5;
}

/* ========================================
   INPUTS FLOTANTES
   ======================================== */
.input-flotante {
  position: relative;
  margin-bottom: 1.5rem;
}

.input-flotante input,
.input-flotante textarea {
  width: 100%;
  padding: 12px;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  font-size: 16px;
  font-family: inherit;
  background: var(--blanco);
  transition: var(--transicion-normal);
}

.input-flotante input:focus,
.input-flotante textarea:focus {
  outline: none;
  transform: scale(1.02);
  background: var(--gris-claro);
  box-shadow: 5px 5px 0 var(--negro-carbon);
}

.input-flotante label {
  position: absolute;
  left: 15px;
  top: 50%;
  transform: translateY(-50%);
  background: var(--blanco);
  padding: 0 5px;
  color: var(--gris-grafito);
  font-weight: 600;
  pointer-events: none;
  transition: var(--transicion-rapida);
}

.input-flotante input:focus + label,
.input-flotante input:not(:placeholder-shown) + label {
  top: 0;
  font-size: 0.85rem;
  color: var(--verde-oliva);
}

/* ========================================
   RESPONSIVE DESIGN
   ======================================== */
@media (max-width: 1200px) {
  .vista-duo {
    grid-template-columns: 1fr;
  }
  
  .columna-lateral {
    grid-row: 2;
  }
  
  .header-content {
    flex-direction: column;
    gap: 1rem;
  }
  
  .brutalist-button-logo {
    order: -1;
  }
  
  .premium-nav {
    width: 100%;
  }
  
  .menu {
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .brutalist-nav-button {
    font-size: 0.85rem;
    padding: 0 15px;
    height: 45px;
  }
}

/* ========================================
   RESPONSIVE HEADER - MÓVIL
   ======================================== */
@media (max-width: 768px) {
  /* Header superior compacto */
  .premium-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: auto;
    border-bottom: 2px solid var(--verde-oliva);
    border-top: none;
    box-shadow: 0 2px 12px rgba(0,0,0,0.2);
    background: var(--bg-header);
    z-index: 1002;
  }

  .header-content {
    display: flex;
    align-items: center;
    padding: 0.6rem 1rem;
    gap: 0.75rem;
  }

  .logo {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    padding-bottom: 0;
    border-bottom: none;
    margin: 0;
  }

  .logo img {
    max-height: 36px;
  }

  .logo-high {
    display: block;
  }

  .logo-low {
    display: none;
  }

  /* Ocultar menú del header en móviles */
  .premium-nav {
    display: none !important;
  }

  /* Mostrar menú de navegación móvil abajo */
  .premium-nav-mobile {
    display: flex;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    background: var(--bg-header);
    border-top: 2px solid var(--verde-oliva);
    box-shadow: 0 -2px 12px rgba(0,0,0,0.2);
    padding: 0.4rem 0.25rem;
    z-index: 1001;
  }

  .premium-nav-mobile .menu {
    display: flex;
    justify-content: space-around;
    align-items: center;
    gap: 0.25rem;
    width: 100%;
  }

  .premium-nav-mobile .link {
    flex-direction: column;
    height: auto;
    padding: 0.5rem 0.25rem;
    flex: 1;
    gap: 0.35rem;
    border-radius: 8px;
    border-bottom: none;
  }

  .premium-nav-mobile .link::before {
    display: none;
  }

  .premium-nav-mobile .link.active {
    background-color: rgba(76, 84, 76, 0.2);
    border-bottom: none;
  }

  .premium-nav-mobile .link-icon {
    width: 24px;
    height: 24px;
  }

  .premium-nav-mobile .link-icon i {
    font-size: 20px;
  }

  .premium-nav-mobile .link-title span {
    font-size: 10px;
    font-weight: 500;
    text-align: center;
  }

  .header-controls {
    position: static;
    background: transparent;
    padding: 0;
    border-radius: 0;
    box-shadow: none;
    gap: 0.75rem;
    flex-shrink: 0;
    min-width: fit-content;
  }

  .theme-toggle-header {
    width: 34px;
    height: 34px;
    border-width: 2px;
    flex-shrink: 0;
  }

  .theme-toggle-header i {
    font-size: 0.95rem;
  }

  .user-info {
    padding: 0.4rem 0.7rem;
    gap: 0.5rem;
    flex-shrink: 0;
  }

  .user-info::after {
    width: 26px;
    height: 26px;
    font-size: 0.95rem;
  }

  .user-name {
    font-size: 0.8rem;
  }

  .user-role {
    font-size: 0.58rem;
    padding: 0.12rem 0.4rem;
    letter-spacing: 0.9px;
  }

  .logout-btn {
    width: 34px;
    height: 34px;
    flex-shrink: 0;
  }

  .logout-btn i {
    font-size: 0.95rem;
  }


  body {
    padding-top: 72px;
    padding-bottom: 120px;
  }

  .titulos {
    margin-top: 1.5rem;
  }

  .t-principal {
    font-size: 1.8rem;
    margin-top: 1.5rem;
  }

  .t-secundario {
    font-size: 1rem;
  }

  .contenedor {
    padding: 1rem;
  }

  .brutalist-grid {
    grid-template-columns: 1fr;
  }

  .busqueda-filtros {
    grid-template-columns: 1fr;
  }

  .filtros-header {
    grid-template-columns: 1fr;
  }

  .filtros-actions {
    flex-direction: column;
  }

  .bitacora-espacios-grid {
    grid-template-columns: 1fr;
  }

  .brutalist-nav-button {
    min-width: 130px;
  }

  .nav-button-text span {
    font-size: 12px;
  }

  .nav-logo {
    width: 20px;
    height: 20px;
  }
}

/* ========================================
   RESPONSIVE HEADER - MÓVIL PEQUEÑO
   ======================================== */
@media (max-width: 480px) {
  .brutalist-card {
    border-width: 4px;
    box-shadow: 8px 8px 0 #000;
  }

  .brutalist-card:hover {
    transform: translate(-3px, -3px);
    box-shadow: 11px 11px 0 #000;
  }

  .header-content {
    padding: 0.5rem 0.75rem;
    gap: 0.5rem;
  }

  .logo {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .logo img {
    max-height: 32px;
  }


  .premium-nav .menu {
    gap: 0.15rem;
  }

  .premium-nav .link {
    padding: 0.4rem 0.15rem;
    min-width: 60px;
  }

  .premium-nav .link-icon {
    width: 22px;
    height: 22px;
  }

  .premium-nav .link-icon i {
    font-size: 18px;
  }

  .premium-nav .link-title span {
    font-size: 9px;
  }

  .header-controls {
    gap: 0.5rem;
    flex-shrink: 0;
    min-width: fit-content;
  }

  .theme-toggle-header {
    width: 30px;
    height: 30px;
    flex-shrink: 0;
  }

  .theme-toggle-header i {
    font-size: 0.85rem;
  }

  .user-info {
    padding: 0.35rem 0.6rem;
    gap: 0.4rem;
    flex-shrink: 0;
  }

  .user-info::after {
    width: 22px;
    height: 22px;
    font-size: 0.85rem;
  }

  .user-name {
    font-size: 0.75rem;
  }

  .user-role {
    font-size: 0.5rem;
    padding: 0.08rem 0.3rem;
    letter-spacing: 0.7px;
  }

  .logout-btn {
    width: 32px;
    height: 32px;
    flex-shrink: 0;
  }

  .logout-btn i {
    font-size: 0.9rem;
  }

  body {
    padding-top: 65px;
    padding-bottom: 110px;
  }

  .titulos {
    margin-top: 1.25rem;
  }

  .t-principal {
    font-size: 1.5rem;
    margin-top: 1.5rem;
  }

  /* Mostrar menú móvil en 480px también */
  .premium-nav-mobile {
    display: flex;
    padding: 0.35rem 0.2rem;
  }
}

/* ========================================
   ANIMACIONES AOS
   ======================================== */
[data-aos] {
  pointer-events: auto;
}

/* ========================================
   UTILIDADES
   ======================================== */
.text-center {
  text-align: center;
}

.mt-1 { margin-top: var(--espaciado-xs); }
.mt-2 { margin-top: var(--espaciado-sm); }
.mt-3 { margin-top: var(--espaciado-md); }
.mt-4 { margin-top: var(--espaciado-lg); }

.mb-1 { margin-bottom: var(--espaciado-xs); }
.mb-2 { margin-bottom: var(--espaciado-sm); }
.mb-3 { margin-bottom: var(--espaciado-md); }
.mb-4 { margin-bottom: var(--espaciado-lg); }

.p-1 { padding: var(--espaciado-xs); }
.p-2 { padding: var(--espaciado-sm); }
.p-3 { padding: var(--espaciado-md); }
.p-4 { padding: var(--espaciado-lg); }

/* ========================================
   SEMÁFORO DE PRIORIDADES
   ======================================== */
.prioridad-alta {
  border-left-color: var(--prioridad-alta) !important;
  background: linear-gradient(90deg, rgba(161, 92, 92, 0.1) 0%, transparent 100%);
}

.prioridad-media {
  border-left-color: var(--prioridad-media) !important;
  background: linear-gradient(90deg, rgba(255, 181, 0, 0.1) 0%, transparent 100%);
}

.prioridad-baja {
  border-left-color: var(--prioridad-baja) !important;
  background: linear-gradient(90deg, rgba(76, 84, 76, 0.1) 0%, transparent 100%);
}

/* ========================================
   PRINT STYLES
   ======================================== */
@media print {
  .premium-header,
  .premium-nav,
  .columna-lateral,
  .filtros-actions,
  .brutalist-card__button {
    display: none !important;
  }
  
  .contenedor {
    max-width: 100%;
    padding: 0;
  }
  
  .brutalist-card {
    border: 2px solid #000;
    box-shadow: none;
    page-break-inside: avoid;
  }
}

/* ========================================
   DOT SPINNER LOADER (From Uiverse.io by abrahamcalsin)
   ======================================== */
.dot-spinner {
  --uib-size: 2.8rem;
  --uib-speed: .9s;
  --uib-color: #4C544C;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  height: var(--uib-size);
  width: var(--uib-size);
}

.dot-spinner__dot {
  position: absolute;
  top: 0;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  height: 100%;
  width: 100%;
}

.dot-spinner__dot::before {
  content: '';
  height: 20%;
  width: 20%;
  border-radius: 50%;
  background-color: var(--uib-color);
  transform: scale(0);
  opacity: 0.5;
  animation: pulse0112 calc(var(--uib-speed) * 1.111) ease-in-out infinite;
  box-shadow: 0 0 20px rgba(76, 84, 76, 0.3);
}

.dot-spinner__dot:nth-child(2) {
  transform: rotate(45deg);
}

.dot-spinner__dot:nth-child(2)::before {
  animation-delay: calc(var(--uib-speed) * -0.875);
}

.dot-spinner__dot:nth-child(3) {
  transform: rotate(90deg);
}

.dot-spinner__dot:nth-child(3)::before {
  animation-delay: calc(var(--uib-speed) * -0.75);
}

.dot-spinner__dot:nth-child(4) {
  transform: rotate(135deg);
}

.dot-spinner__dot:nth-child(4)::before {
  animation-delay: calc(var(--uib-speed) * -0.625);
}

.dot-spinner__dot:nth-child(5) {
  transform: rotate(180deg);
}

.dot-spinner__dot:nth-child(5)::before {
  animation-delay: calc(var(--uib-speed) * -0.5);
}

.dot-spinner__dot:nth-child(6) {
  transform: rotate(225deg);
}

.dot-spinner__dot:nth-child(6)::before {
  animation-delay: calc(var(--uib-speed) * -0.375);
}

.dot-spinner__dot:nth-child(7) {
  transform: rotate(270deg);
}

.dot-spinner__dot:nth-child(7)::before {
  animation-delay: calc(var(--uib-speed) * -0.25);
}

.dot-spinner__dot:nth-child(8) {
  transform: rotate(315deg);
}

.dot-spinner__dot:nth-child(8)::before {
  animation-delay: calc(var(--uib-speed) * -0.125);
}

@keyframes pulse0112 {
  0%,
  100% {
    transform: scale(0);
    opacity: 0.5;
  }

  50% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Overlay para el spinner de descarga */
.download-spinner-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(30, 30, 30, 0.95);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  gap: 2rem;
}

.download-text {
  color: var(--blanco);
  font-size: 1.2rem;
  font-weight: 600;
  letter-spacing: 1px;
  animation: fadeInOut 2s ease-in-out infinite;
}

@keyframes fadeInOut {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

/* ========================================
   LOGO BRUTALIST CON HOVER (From Uiverse.io by 0xnihilism)
   ======================================== */
.button-container {
  display: flex;
  justify-content: center;
  gap: 20px;
  padding: 20px;
}

.brutalist-button-logo {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border: 3px solid #000000;
  border-radius: 12px;
  padding: 0;
  text-decoration: none;
  color: #000000;
  font-weight: bold;
  position: relative;
  box-shadow: 4px 4px 0px #000000;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  height: 130px;
  width: 130px;
  cursor: pointer;
  background-color: #2c2c2c;
}

.brutalist-button-logo::before {
  content: "";
  position: absolute;
  left: 50%;
  bottom: -150%;
  width: 300%;
  height: 300%;
  border-radius: 50%;
  transform: translateX(-50%) scale(0);
  transition: transform 0.6s cubic-bezier(0.19, 1, 0.22, 1);
  z-index: 1;
  background-color: #2C2C2C;
}

.brutalist-button-logo:hover::before {
  transform: translateX(-50%) scale(1);
}

.brutalist-button-logo:hover {
  transform: translate(-4px, -4px);
  box-shadow: 8px 8px 0px #000000;
}

.brutalist-button-logo:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0px #000000;
}

.logo-container {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
  width: 90px;
  height: 90px;
  border-radius: 50%;
  transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  background-color: #f7f7f7;
}

.logo-icon {
  width: 54px;
  height: 54px;
  transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  object-fit: contain;
}

@keyframes spin {
  0% {
    transform: translate(-50%, -50%) rotate(0deg);
  }
  100% {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

.brutalist-button-logo:hover .logo-container {
  animation: spin 5s linear infinite;
  width: 50px;
  height: 50px;
  top: 28%;
}

.brutalist-button-logo:hover .logo-icon {
  transform: scale(0.6);
}

.button-text-logo {
  display: flex;
  flex-direction: column;
  align-items: center;
  line-height: 1.3;
  transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  text-align: center;
  opacity: 0;
  transform: translateY(20px);
  z-index: 2;
  position: absolute;
  bottom: 18px;
  left: 0;
  right: 0;
}

.button-text-logo span:first-child {
  font-size: 13px;
  font-weight: 500;
  margin-bottom: 2px;
  color: #d3d3d3;
}

.button-text-logo span:last-child {
  font-size: 16px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  color: #d6cbbf;
}

.brutalist-button-logo:hover .button-text-logo {
  opacity: 1;
  transform: translateY(0);
}

/* ========================================
   BOTONES NAVIGATION BRUTALIST (From Uiverse.io by 0xnihilism)
   ======================================== */
.brutalist-nav-button {
  display: flex;
  align-items: center;
  cursor: pointer;
  height: 50px;
  background-color: var(--negro-carbon);
  color: var(--blanco);
  text-decoration: none;
  font-family: 'Montserrat', Arial, sans-serif;
  font-weight: bold;
  border: 3px solid var(--blanco);
  outline: 3px solid var(--negro-carbon);
  box-shadow: 6px 6px 0 var(--verde-oliva);
  transition: all 0.1s ease-out;
  padding: 0 20px;
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  gap: 12px;
}

.brutalist-nav-button::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.8),
    transparent
  );
  z-index: 1;
  transition: none;
  opacity: 0;
}

@keyframes slide {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

.brutalist-nav-button:hover::before {
  opacity: 1;
  animation: slide 2s infinite;
}

.brutalist-nav-button:hover {
  transform: translate(-4px, -4px);
  box-shadow: 10px 10px 0 var(--negro-carbon);
  background-color: var(--negro-carbon);
  color: var(--blanco);
}

.brutalist-nav-button:active {
  transform: translate(4px, 4px);
  box-shadow: 0px 0px 0 var(--verde-oliva);
  background-color: var(--blanco);
  color: var(--negro-carbon);
  border-color: var(--negro-carbon);
}

.brutalist-nav-button.active {
  background-color: var(--verde-oliva);
  border-color: var(--blanco);
  box-shadow: 8px 8px 0 var(--negro-carbon);
}

.nav-logo {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 2px;
  width: 24px;
  height: 24px;
  flex-shrink: 0;
  transition: transform 0.2s ease-out;
  position: relative;
  z-index: 2;
}

.brutalist-nav-button:hover .nav-logo {
  transform: rotate(-10deg) scale(1.1);
}

.brutalist-nav-button:active .nav-logo {
  transform: rotate(10deg) scale(0.9);
}

.nav-logo-square {
  width: 100%;
  height: 100%;
}

.nav-logo-square:nth-child(1) {
  background-color: #A15C5C;
}
.nav-logo-square:nth-child(2) {
  background-color: #4C544C;
}
.nav-logo-square:nth-child(3) {
  background-color: var(--verde-oliva);
}
.nav-logo-square:nth-child(4) {
  background-color: #FFB500;
}

.nav-button-text {
  display: flex;
  flex-direction: column;
  line-height: 1.2;
  transition: transform 0.2s ease-out;
  position: relative;
  z-index: 2;
}

.brutalist-nav-button:hover .nav-button-text {
  transform: skew(-5deg);
}

.brutalist-nav-button:active .nav-button-text {
  transform: skew(5deg);
}

.nav-button-text span {
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* ========================================
   CAMPOS DE ALERTA CONDICIONALES
   ======================================== */
.alerta-fields {
  display: none;
  background: #fffbea;
  border: 3px solid var(--color-advertencia);
  border-radius: var(--radio-medio);
  padding: 1rem;
  margin-top: 15px;
  margin-bottom: 15px;
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 0.3s ease-out, transform 0.3s ease-out;
}

.alerta-fields.show {
  display: block !important;
  opacity: 1;
  transform: translateY(0);
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.alerta-fields .input-group {
  margin-bottom: 1rem;
}

.alerta-fields label {
  color: var(--negro-carbon);
  font-weight: 600;
  display: block;
}

.alerta-fields label i {
  color: var(--prioridad-media);
  margin-right: 0.5rem;
}

.alerta-fields .brutalist-input {
  width: 100%;
  margin-bottom: 0;
}

.alerta-fields .input-group:last-child {
  margin-bottom: 0;
}

/* ========================================
   BITÁCORA DE FILTROS - FORMATO TABLA
   ======================================== */
.filtros-bitacora-card {
  background: var(--blanco);
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  box-shadow: var(--sombra-fuerte);
  padding: 2rem;
  margin-bottom: 2rem;
}

.filtros-bitacora-header {
  background: var(--verde-oliva);
  color: var(--blanco);
  padding: 1.5rem;
  border-radius: var(--radio-medio);
  margin-bottom: 1.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: 3px solid var(--negro-carbon);
  box-shadow: 6px 6px 0 var(--negro-carbon);
}

.filtros-bitacora-title {
  font-family: 'Playfair Display', serif;
  font-size: 1.8rem;
  font-weight: 700;
  margin: 0;
}

.filtros-bitacora-periodo {
  background: var(--negro-carbon);
  padding: 0.5rem 1rem;
  border-radius: var(--radio-pequeno);
  font-size: 0.9rem;
  font-weight: 600;
  border: 2px solid var(--blanco);
}

.filtros-table-wrapper {
  overflow-x: auto;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: var(--gris-claro);
}

.filtros-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: var(--blanco);
}

.filtros-table thead {
  background: var(--negro-carbon);
  color: var(--blanco);
}

.filtros-table th {
  padding: 1rem;
  text-align: left;
  font-weight: 700;
  text-transform: uppercase;
  font-size: 0.85rem;
  letter-spacing: 1px;
  border-bottom: 3px solid var(--verde-oliva);
}

.filtros-table tbody tr {
  border-bottom: 2px solid var(--gris-separador);
  transition: all 0.2s ease;
}

.filtros-table tbody tr:hover {
  background: rgba(76, 84, 76, 0.05);
  transform: scale(1.01);
}

.filtros-table td {
  padding: 1rem;
  font-size: 0.95rem;
}

.filtros-table td:first-child {
  font-weight: 700;
  color: var(--verde-oliva);
}

.filtro-estado {
  display: inline-block;
  padding: 0.3rem 0.8rem;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  border: 2px solid var(--negro-carbon);
}

.filtro-estado.bueno {
  background: var(--prioridad-baja);
  color: var(--blanco);
}

.filtro-estado.revisar {
  background: var(--prioridad-media);
  color: var(--negro-carbon);
}

.filtro-estado.cambiar {
  background: var(--prioridad-alta);
  color: var(--blanco);
}

.filtros-actions-container {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
  flex-wrap: wrap;
}

.filtros-action-button {
  flex: 1;
  min-width: 200px;
  padding: 1rem 1.5rem;
  background: var(--blanco);
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  box-shadow: 6px 6px 0 var(--negro-carbon);
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-weight: 700;
  font-size: 1rem;
  color: var(--negro-carbon);
  position: relative;
  overflow: hidden;
}

.filtros-action-button::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(76, 84, 76, 0.2),
    transparent
  );
  transition: left 0.5s ease;
}

.filtros-action-button:hover::before {
  left: 100%;
}

.filtros-action-button:hover {
  transform: translate(-4px, -4px);
  box-shadow: 10px 10px 0 var(--negro-carbon);
}

.filtros-action-button:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0 var(--negro-carbon);
}

.filtros-action-button i {
  font-size: 1.5rem;
  color: var(--verde-oliva);
}

.filtros-action-button.excel {
  background: linear-gradient(135deg, #e7f5e7 0%, #ffffff 100%);
}

.filtros-action-button.archive {
  background: linear-gradient(135deg, #fff5e6 0%, #ffffff 100%);
}

.filtros-action-button.history {
  background: linear-gradient(135deg, #e6f3ff 0%, #ffffff 100%);
}

/* ========================================
   TAB DE INSPECCIONES
   ======================================== */
.inspecciones-container {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.inspecciones-form {
  max-width: 800px;
  margin: 0 auto;
}

.checkbox-aprobacion {
  padding: 1rem;
  background: rgba(76, 84, 76, 0.05);
  border: 2px solid var(--verde-oliva);
  border-radius: var(--radio-medio);
  margin: 1rem 0;
}

.checkbox-container {
  display: flex;
  align-items: center;
  cursor: pointer;
  position: relative;
  padding-left: 35px;
  user-select: none;
}

.checkbox-container input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.checkmark {
  position: absolute;
  left: 0;
  height: 25px;
  width: 25px;
  background-color: var(--blanco);
  border: 3px solid var(--negro-carbon);
  transition: var(--transicion-normal);
}

.checkbox-container:hover .checkmark {
  background-color: var(--gris-claro);
}

.checkbox-container input:checked ~ .checkmark {
  background-color: var(--verde-oliva);
}

.checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

.checkbox-container input:checked ~ .checkmark:after {
  display: block;
}

.checkbox-container .checkmark:after {
  left: 7px;
  top: 3px;
  width: 6px;
  height: 12px;
  border: solid var(--blanco);
  border-width: 0 3px 3px 0;
  transform: rotate(45deg);
}

.checkbox-label {
  font-weight: 600;
  color: var(--negro-carbon);
  font-size: 1rem;
}

/* Acciones Rápidas */
.acciones-rapidas-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
  background: var(--blanco);
  border: 4px solid var(--negro-carbon);
  border-radius: var(--radio-grande);
  box-shadow: var(--sombra-fuerte);
}

.acciones-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--negro-carbon);
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.acciones-title i {
  color: var(--color-advertencia);
}

.acciones-rapidas-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
}

.accion-rapida-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  padding: 2rem 1rem;
  background: var(--blanco);
  border: 3px solid var(--negro-carbon);
  border-radius: var (--radio-medio);
  box-shadow: 6px 6px 0 var(--negro-carbon);
  cursor: pointer;
  transition: var(--transicion-normal);
  font-weight: 700;
  font-size: 0.95rem;
  color: var(--negro-carbon);
  position: relative;
  overflow: hidden;
}

.accion-rapida-btn::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.5),
    transparent
  );
  transition: left 0.5s ease;
}

.accion-rapida-btn:hover::before {
  left: 100%;
}

.accion-rapida-btn:hover {
  transform: translate(-4px, -4px);
  box-shadow: 10px 10px 0 var(--negro-carbon);
}

.accion-rapida-btn:active {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0 var(--negro-carbon);
}

.accion-rapida-btn i {
  font-size: 2.5rem;
}

.accion-rapida-btn.checklist i {
  color: var(--verde-oliva);
}

.accion-rapida-btn.evidencia i {
  color: var(--rojo-vino);
}

.accion-rapida-btn.firma i {
  color: var(--color-advertencia);
}

.accion-rapida-btn span {
  font-size: 1rem;
  text-align: center;
}

/* ========================================
   SEMÁFORO HORIZONTAL (From Uiverse.io by Ratinax)
   ======================================== */
.espacios-header-info {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-bottom: 2rem;
}

.semaforo-container,
.estadisticas-container {
  background: var(--blanco);
  border: 4px solid var (--negro-carbon);
  border-radius: var(--radio-grande);
  padding: 2rem;
  box-shadow: var(--sombra-fuerte);
}

.semaforo-title,
.estadisticas-title {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--negro-carbon);
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.semaforo-title i {
  color: var(--color-advertencia);
}

.estadisticas-title i {
  color: var(--verde-oliva);
}

.semaforo-horizontal {
  display: flex;
  justify-content: space-around;
  align-items: center;
  background-color: var(--blanco);
  border-radius: var(--radio-grande);
  padding: 1.5rem;
  gap: 1rem;
  box-shadow: inset 0 4px 8px rgba(0,0,0,0.1);
  border: 3px solid var(--negro-carbon);
}

.semaforo-label {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  transition: var(--transicion-normal);
}

.semaforo-input {
  display: none;
}

.semaforo-light {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: 4px solid var(--negro-carbon);
  transition: all 0.3s ease;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

.semaforo-green .semaforo-light {
  background-color: var(--estado-bueno);
  box-shadow: 0 0 15px var(--estado-bueno);
}

.semaforo-yellow .semaforo-light {
  background-color: var(--estado-regular);
  box-shadow: 0 0 15px var(--estado-regular);
}

.semaforo-red .semaforo-light {
  background-color: var(--estado-malo);
  box-shadow: 0 0 15px var(--estado-malo);
}

.semaforo-green .semaforo-light:hover {
  background-color: lime;
  transform: scale(1.1);
}

.semaforo-yellow .semaforo-light:hover {
  background-color: yellow;
  transform: scale(1.1);
}

.semaforo-red .semaforo-light:hover {
  background-color: red;
  transform: scale(1.1);
}

.semaforo-green:has(.semaforo-input:checked) .semaforo-light {
  background-color: lime;
  box-shadow: 0 0 30px lime, 0 0 50px lime;
  transform: scale(1.15);
}

.semaforo-yellow:has(.semaforo-input:checked) .semaforo-light {
  background-color: yellow;
  box-shadow: 0 0 30px yellow, 0 0 50px yellow;
  transform: scale(1.15);
}

.semaforo-red:has(.semaforo-input:checked) .semaforo-light {
  background-color: red;
  box-shadow: 0 0 30px red, 0 0 50px red;
  transform: scale(1.15);
}

.semaforo-text {
  color: var(--negro-carbon);
  font-weight: 700;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.semaforo-responsable {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 3px solid var(--gris-separador);
}

.semaforo-responsable label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 600;
  color: var(--negro-carbon);
  margin-bottom: 0.5rem;
}

/* ========================================
   ESTADÍSTICAS
   ======================================== */
.estadisticas-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

.estadistica-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background: var(--gris-claro);
  border-left: 5px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  transition: var(--transicion-rapida);
}

.estadistica-item:hover {
  transform: translateX(5px);
  background: var(--gris-separador);
}

.estadistica-label {
  font-weight: 600;
  color: var(--gris-grafito);
  font-size: 0.95rem;
}

.estadistica-valor {
  font-weight: 900;
  font-size: 1.8rem;
  color: var(--negro-carbon);
  font-family: 'Courier New', monospace;
}

.estadistica-valor.disponible {
  color: var(--color-exito);
}

.estadistica-valor.mantenimiento {
  color: var(--color-advertencia);
}

.estadistica-valor.fuera {
  color: var(--color-peligro);
}

/* ========================================
   SEMÁFORO COMPACTO (Para columna lateral)
   ======================================== */
.semaforo-compact {
  margin-bottom: 15px;
  padding: 1rem;
  background: var(--gris-claro);
  border-radius: var(--radio-medio);
  border: 2px solid var(--gris-separador);
}

.semaforo-horizontal-compact {
  display: flex;
  justify-content: space-evenly;
  align-items: stretch;
  background-color: var(--blanco);
  border-radius: var(--radio-medio);
  padding: 0.8rem;
  gap: 0.3rem;
  border: 3px solid var(--negro-carbon);
}

.semaforo-label-compact {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.3rem;
  cursor: pointer;
  transition: var(--transicion-normal);
  flex: 1;
  text-align: center;
  width: 100%;
}

.semaforo-light-compact {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  border: 3px solid var(--negro-carbon);
  transition: all 0.3s ease;
  box-shadow: 0 0 8px rgba(0,0,0,0.3);
  display: block;
  background-color: transparent;
  margin: 0 auto;
  flex-shrink: 0;
}

/* Colores base del semáforo - siempre visibles */
.semaforo-label-compact.semaforo-green .semaforo-light-compact {
  background-color: var(--estado-bueno) !important;
  box-shadow: 0 0 10px var(--estado-bueno) !important;
}

.semaforo-label-compact.semaforo-yellow .semaforo-light-compact {
  background-color: var(--estado-regular) !important;
  box-shadow: 0 0 10px var(--estado-regular) !important;
}

.semaforo-label-compact.semaforo-red .semaforo-light-compact {
  background-color: var(--estado-malo) !important;
  box-shadow: 0 0 10px var(--estado-malo) !important;
}

/* Asegurar que los colores se muestren incluso si hay conflictos */
.semaforo-horizontal-compact .semaforo-label-compact.semaforo-green .semaforo-light-compact {
  background-color: var(--estado-bueno) !important;
  box-shadow: 0 0 10px var(--estado-bueno) !important;
}

.semaforo-horizontal-compact .semaforo-label-compact.semaforo-yellow .semaforo-light-compact {
  background-color: var(--estado-regular) !important;
  box-shadow: 0 0 10px var(--estado-regular) !important;
}

.semaforo-horizontal-compact .semaforo-label-compact.semaforo-red .semaforo-light-compact {
  background-color: var(--estado-malo) !important;
  box-shadow: 0 0 10px var(--estado-malo) !important;
}

.semaforo-label-compact.semaforo-green:hover .semaforo-light-compact {
  background-color: var(--estado-bueno) !important;
  transform: scale(1.1);
}

.semaforo-label-compact.semaforo-yellow:hover .semaforo-light-compact {
  background-color: var(--estado-regular) !important;
  transform: scale(1.1);
}

.semaforo-label-compact.semaforo-red:hover .semaforo-light-compact {
  background-color: var(--estado-malo) !important;
  transform: scale(1.1);
}

/* Estado seleccionado - usando :has() y también clase alternativa */
.semaforo-label-compact.semaforo-green:has(.semaforo-input:checked) .semaforo-light-compact,
.semaforo-label-compact.semaforo-green .semaforo-input:checked ~ .semaforo-light-compact {
  background-color: var(--estado-bueno) !important;
  box-shadow: 0 0 20px var(--estado-bueno), 0 0 35px var(--estado-bueno) !important;
  transform: scale(1.15);
}

.semaforo-label-compact.semaforo-yellow:has(.semaforo-input:checked) .semaforo-light-compact,
.semaforo-label-compact.semaforo-yellow .semaforo-input:checked ~ .semaforo-light-compact {
  background-color: var(--estado-regular) !important;
  box-shadow: 0 0 20px var(--estado-regular), 0 0 35px var(--estado-regular) !important;
  transform: scale(1.15);
}

.semaforo-label-compact.semaforo-red:has(.semaforo-input:checked) .semaforo-light-compact,
.semaforo-label-compact.semaforo-red .semaforo-input:checked ~ .semaforo-light-compact {
  background-color: var(--estado-malo) !important;
  box-shadow: 0 0 20px var(--estado-malo), 0 0 35px var(--estado-malo) !important;
  transform: scale(1.15);
}

.semaforo-text-compact {
  color: var(--negro-carbon);
  font-weight: 600;
  font-size: 0.7rem;
  text-transform: uppercase;
  text-align: center;
  width: 100%;
  display: block;
  letter-spacing: 0.5px;
}

/* ========================================
   ESTADÍSTICAS COMPACTAS (Para columna lateral)
   ======================================== */
.estadisticas-compact {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

.estadistica-item-compact {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.6rem 0.8rem;
  background: rgba(255, 255, 255, 0.5);
  border-left: 4px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  transition: var(--transicion-rapida);
}

.estadistica-item-compact:hover {
  transform: translateX(3px);
  background: rgba(255, 255, 255, 0.8);
}

.estadistica-item-compact .estadistica-label {
  font-weight: 600;
  color: var(--gris-grafito);
  font-size: 0.8rem;
}

.estadistica-item-compact .estadistica-valor {
  font-weight: 900;
  font-size: 1.4rem;
  color: var(--negro-carbon);
  font-family: 'Courier New', monospace;
}

.estadistica-item-compact .estadistica-valor.disponible {
  color: var(--color-exito);
  border-left-color: var(--color-exito);
}

.estadistica-item-compact .estadistica-valor.mantenimiento {
  color: var(--color-advertencia);
  border-left-color: var(--color-advertencia);
}

.estadistica-item-compact .estadistica-valor.fuera {
  color: var(--color-peligro);
  border-left-color: var(--color-peligro);
}

/* ========================================
   INSPECCIONES - ACCIONES RÁPIDAS VERTICALES
   ======================================== */
.acciones-rapidas-vertical {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

.accion-rapida-btn-vertical {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.9rem 1.2rem;
  background: var(--blanco);
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  font-weight: 700;
  font-size: 0.9rem;
  cursor: pointer;
  transition: var(--transicion-rapida);
  box-shadow: 4px 4px 0 var(--negro-carbon);
}

.accion-rapida-btn-vertical:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 var(--negro-carbon);
}

.accion-rapida-btn-vertical:active {
  transform: translate(0, 0);
  box-shadow: 2px 2px 0 var(--negro-carbon);
}

.accion-rapida-btn-vertical i {
  font-size: 1.2rem;
}

.accion-rapida-btn-vertical.checklist {
  border-color: var(--verde-oliva);
  color: var(--verde-oliva);
}

.accion-rapida-btn-vertical.checklist:hover {
  background: var(--verde-oliva);
  color: var(--blanco);
  box-shadow: 6px 6px 0 var(--verde-oliva);
}

.accion-rapida-btn-vertical.evidencia {
  border-color: var(--rojo-vino);
  color: var(--rojo-vino);
}

.accion-rapida-btn-vertical.evidencia:hover {
  background: var(--rojo-vino);
  color: var(--blanco);
  box-shadow: 6px 6px 0 var(--rojo-vino);
}

.accion-rapida-btn-vertical.firma {
  border-color: var(--color-advertencia);
  color: var(--color-advertencia);
}

.accion-rapida-btn-vertical.firma:hover {
  background: var(--color-advertencia);
  color: var(--negro-carbon);
  box-shadow: 6px 6px 0 var(--color-advertencia);
}

/* ========================================
   FORMULARIOS DE ACCIONES RÁPIDAS
   ======================================== */
.accion-form-container {
  margin-bottom: 2rem;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.btn-cerrar-form {
  background: var(--rojo-vino);
  color: var(--blanco);
  border: none;
  border-radius: 50%;
  width: 35px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transicion-rapida);
  margin-left: auto;
}

.btn-cerrar-form:hover {
  background: var(--color-peligro);
  transform: rotate(90deg);
}

.btn-cerrar-form i {
  font-size: 1.1rem;
}

/* ========================================
   CANVAS DE FIRMA
   ======================================== */
.firma-canvas-container {
  position: relative;
  margin-bottom: 15px;
}

.firma-canvas {
  width: 100%;
  height: 200px;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: var(--blanco);
  cursor: crosshair;
  touch-action: none;
}

.btn-limpiar-firma {
  position: absolute;
  top: 10px;
  right: 10px;
  background: var(--rojo-vino);
  color: var(--blanco);
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  padding: 0.4rem 0.8rem;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transicion-rapida);
  box-shadow: 2px 2px 0 var(--negro-carbon);
}

.btn-limpiar-firma:hover {
  background: var(--color-peligro);
  transform: translate(-1px, -1px);
  box-shadow: 3px 3px 0 var(--negro-carbon);
}

.btn-limpiar-firma i {
  margin-right: 0.3rem;
}

/* ========================================
   FILE INPUT STYLING
   ======================================== */
.file-input {
  padding: 0.8rem;
  border: 3px dashed var(--gris-grafito);
  background: var(--gris-claro);
  cursor: pointer;
}

.file-input:hover {
  border-color: var(--verde-oliva);
  background: var(--blanco);
}

.file-input::file-selector-button {
  background: var(--verde-oliva);
  color: var(--blanco);
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  padding: 0.5rem 1rem;
  font-weight: 600;
  cursor: pointer;
  margin-right: 1rem;
  transition: var(--transicion-rapida);
}

.file-input::file-selector-button:hover {
  background: var(--negro-carbon);
}

/* ========================================
   LISTA DE INSPECCIONES RECIENTES
   ======================================== */
.item-reciente {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.8rem;
  background: rgba(255, 255, 255, 0.5);
  border-left: 4px solid var(--verde-oliva);
  border-radius: var(--radio-pequeno);
  margin-bottom: 0.6rem;
  transition: var(--transicion-rapida);
}

.item-reciente:hover {
  background: rgba(255, 255, 255, 0.9);
  transform: translateX(5px);
}

.item-info {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}

.item-info strong {
  color: var(--negro-carbon);
  font-size: 0.95rem;
}

.item-tecnico {
  color: var(--gris-grafito);
  font-size: 0.85rem;
  font-style: italic;
}

.item-fecha {
  color: var(--gris-grafito);
  font-size: 0.85rem;
}

.badge-aprobado {
  background: var(--verde-oliva);
  color: var(--blanco);
  padding: 0.3rem 0.8rem;
  border-radius: var(--radio-pequeno);
  font-size: 0.8rem;
  font-weight: 700;
}

.badge-pendiente {
  background: var(--color-advertencia);
  color: var(--negro-carbon);
  padding: 0.3rem 0.8rem;
  border-radius: var(--radio-pequeno);
  font-size: 0.8rem;
  font-weight: 700;
}

/* ========================================
   SÁBANA - REGISTRO DE CAMBIOS
   ======================================== */
.sabana-container {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.tarea-card-vence {
  margin: 0.35rem 0 0.15rem;
}

.tarea-card-meta {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.tarea-meta-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  color: var(--gris-carbon);
  font-weight: 600;
}

.tarea-meta-item i {
  width: 18px;
  text-align: center;
  color: var(--verde-oliva);
}

.sabana-table thead tr {
  text-transform: uppercase;
  font-size: 0.85rem;
  letter-spacing: 1px;
  border-bottom: 3px solid var(--verde-oliva);
}

.sabana-table tbody tr {
  border-bottom: 2px solid var(--gris-separador);
  transition: all 0.2s ease;
}

.sabana-table tbody tr:hover {
  background: var(--gris-claro);
  transform: scale(1.005);
}

.sabana-table td {
  padding: 1rem;
  font-size: 0.95rem;
  color: var(--texto-principal);
}

.sabana-table td:first-child {
  font-weight: 700;
  color: var(--verde-oliva);
}

/* Checkbox para marcar cambio realizado */
.checkbox-sabana {
  width: 24px;
  height: 24px;
  cursor: pointer;
  accent-color: var(--verde-oliva);
}

/* ========================================
   CHECKLIST - INSPECCIONES
   ======================================== */
.checklist-container {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

/* Botones de categorías filtro */
.checklist-categorias-toggle-bar {
  display: none;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.checklist-categorias-toggle {
  width: 100%;
  border: 3px solid var(--border-color);
  border-radius: var(--radio-grande);
  background: var(--bg-principal);
  color: var(--texto-principal);
  padding: 0.75rem 1rem;
  font-size: 0.95rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  cursor: pointer;
  box-shadow: var(--sombra-ligera);
}

.checklist-categorias-toggle .toggle-indicator {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: 2px solid var(--border-color);
  background: rgba(0,0,0,0.05);
  transition: transform 0.2s ease;
}

.checklist-categorias-toggle.is-open .toggle-indicator {
  transform: rotate(180deg);
}

.checklist-categorias-wrapper {
  display: flex;
  flex-direction: column;
  gap: 0.85rem;
  margin-bottom: 1.25rem;
}

.checklist-add-feedback {
  display: block;
  margin-top: 0.75rem;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--verde-oliva);
}

.checklist-categorias-filtro {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap: 0.85rem;
  width: 100%;
  padding-bottom: 1.25rem;
  border-bottom: 3px solid var(--border-color);
  max-height: 18rem;
  overflow-y: auto;
  padding-right: 0.5rem;
}

.checklist-categorias-filtro::-webkit-scrollbar {
  width: 6px;
}

.checklist-categorias-filtro::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 999px;
}

.checklist-categorias-filtro::-webkit-scrollbar-thumb {
  background: var(--negro-carbon);
  border-radius: 999px;
}

.checklist-categorias-filtro::-webkit-scrollbar-thumb:hover {
  background: var(--verde-oliva);
}


.categoria-btn {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  gap: 0.9rem;
  padding: 0.85rem 1.2rem;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: var(--blanco);
  color: var(--negro-carbon);
  font-size: 0.85rem;
  font-weight: 700;
  text-transform: none;
  cursor: pointer;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.12);
  transition: var(--transicion-rapida);
  min-width: 0;
}

.categoria-btn:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.18);
}

.categoria-btn.active {
  background: var(--negro-carbon);
  color: var(--blanco);
  box-shadow: 5px 5px 0 var(--verde-oliva);
  transform: translate(-2px, -2px);
}

.categoria-btn i {
  font-size: 1.2rem;
}

.categoria-btn-icon {
  width: 46px;
  height: 46px;
  border: 3px solid currentColor;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.05);
}

.categoria-btn-text {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  text-align: left;
  gap: 0.15rem;
}

.categoria-btn-label {
  font-size: 0.9rem;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.categoria-btn-text small {
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--texto-secundario);
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

/* Grid de cards */
.checklist-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
  gap: 1.5rem;
  align-items: start;
}

/* Botones de paginación */
.pagination-btn {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  background: var(--blanco);
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  font-weight: 700;
  font-size: 0.95rem;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.1);
}

.pagination-btn:hover:not(:disabled) {
  background: var(--negro-carbon);
  color: var(--blanco);
  transform: translate(2px, 2px);
  box-shadow: 1px 1px 0 rgba(0, 0, 0, 0.1);
}

.pagination-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.pagination-info {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 1.1rem;
  font-weight: 700;
}

.pagination-current {
  color: var(--color-exito);
  font-size: 1.3rem;
}

.pagination-separator {
  color: var(--texto-secundario);
}

.pagination-total {
  color: var(--texto-secundario);
}

.checklist-card {
  background: var(--bg-principal);
  border: 4px solid var(--border-color);
  border-radius: var(--radio-grande);
  padding: 1.5rem;
  box-shadow: var(--sombra-fuerte);
  transition: var(--transicion-normal);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  height: clamp(520px, 64vh, 580px);
  max-height: 580px;
  overflow: hidden;
}

.checklist-card:hover {
  transform: translate(-3px, -3px);
  box-shadow: var(--sombra-brutal);
}

/* Header de la card */
.checklist-card-header {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--border-color);
  flex-shrink: 0;
}

.checklist-header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
}

.checklist-room-title {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
  min-width: 0;
}

.checklist-room-number {
  font-size: 1.5rem;
  font-weight: 800;
  color: var(--negro-carbon);
  letter-spacing: 0.02rem;
  line-height: 1;
}

.checklist-header-actions {
  display: flex;
  gap: 0.5rem;
}

.checklist-action-btn {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid var(--border-color);
  border-radius: var(--radio-pequeno);
  background: var(--blanco);
  color: var(--texto-secundario);
  cursor: pointer;
  transition: var(--transicion-rapida);
  font-size: 0.9rem;
}

.checklist-action-btn:hover {
  background: var(--negro-carbon);
  color: var(--blanco);
  border-color: var(--negro-carbon);
}

.checklist-header-bottom {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

.checklist-meta-group {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
  flex: 1;
}

.checklist-meta-item {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--texto-secundario);
}

.checklist-meta-item i {
  font-size: 0.85rem;
  opacity: 0.75;
}

.checklist-meta-item span {
  white-space: nowrap;
}

.checklist-meta-divider {
  width: 1px;
  height: 14px;
  background: var(--gris-medio);
  opacity: 0.5;
}





/* Badge de estado profesional */
.checklist-estado-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  white-space: nowrap;
  border: 2px solid;
}

.checklist-estado-badge i {
  font-size: 0.8rem;
}

.checklist-estado-badge.estado-disponible {
  background: rgba(16, 185, 129, 0.1);
  border-color: rgba(16, 185, 129, 0.3);
  color: #047857;
}

.checklist-estado-badge.estado-disponible i {
  color: #10b981;
}

.checklist-estado-badge.estado-ocupado {
  background: rgba(59, 130, 246, 0.1);
  border-color: rgba(59, 130, 246, 0.3);
  color: #1e40af;
}

.checklist-estado-badge.estado-ocupado i {
  color: #3b82f6;
}

.checklist-estado-badge.estado-mantenimiento {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.3);
  color: #b45309;
}

.checklist-estado-badge.estado-mantenimiento i {
  color: #f59e0b;
}

.checklist-estado-badge.estado-fuera-servicio {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
  color: #b91c1c;
}

.checklist-estado-badge.estado-fuera-servicio i {
  color: #ef4444;
}

/* Tag del editor */
.checklist-editor-tag {
  padding: 0.3rem 0.65rem;
  background: rgba(93, 127, 95, 0.1);
  border-radius: 6px;
  color: var(--verde-oliva);
  font-weight: 700;
}

.checklist-editor-tag i {
  color: var(--verde-oliva);
  opacity: 1;
}

/* ========================================
   MODAL DE DETALLES Y EXPORTACIÓN
   ======================================== */

.checklist-modal {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  z-index: 2000 !important;
  display: none !important;
  align-items: center !important;
  justify-content: center !important;
  animation: fadeIn 0.2s ease !important;
}

.checklist-modal[style*="display: flex"] {
  display: flex !important;
}

.checklist-details-content {
  max-width: 600px !important;
  width: min(600px, calc(100% - 2rem)) !important;
  display: flex !important;
  flex-direction: column !important;
  max-height: 90vh !important;
}

.checklist-details-body {
  padding: 1.5rem;
  max-height: calc(85vh - 200px);
  overflow-y: auto;
  flex: 1;
}

.checklist-details-body::-webkit-scrollbar {
  width: 8px;
}

.checklist-details-body::-webkit-scrollbar-track {
  background: var(--gris-claro);
  border-radius: 4px;
}

.checklist-details-body::-webkit-scrollbar-thumb {
  background: var(--verde-oliva);
  border-radius: 4px;
}

.checklist-details-body::-webkit-scrollbar-thumb:hover {
  background: var(--negro-carbon);
}

.checklist-modal-info {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.checklist-info-item {
  padding: 0.75rem;
  background: var(--gris-claro);
  border: 2px solid var(--border-color);
  border-left: 3px solid var(--verde-oliva);
  border-radius: var(--radio-chico);
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.checklist-info-item i {
  font-size: 1rem;
  color: var(--verde-oliva);
  flex-shrink: 0;
}

.checklist-info-item .info-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
}

.checklist-info-item strong {
  color: var(--texto-secundario);
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 600;
}

.checklist-info-item span:not(.checklist-estado-badge):not(.checklist-estado-badge span) {
  color: var(--texto-principal);
  font-size: 0.9rem;
  font-weight: 600;
}

.checklist-modal-stats {
  margin-bottom: 1.5rem;
}

.checklist-modal-stats h3,
.checklist-modal-history h3 {
  font-size: 1rem;
  font-weight: 700;
  margin-bottom: 1rem;
  color: var(--texto-principal);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--border-color);
}

.checklist-stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
}

.checklist-stat-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem;
  background: var(--gris-claro);
  border: 3px solid var(--border-color);
  border-radius: var(--radio-chico);
  border-left: 4px solid;
}

.checklist-stat-item.bueno {
  border-left-color: var(--estado-bueno);
}

.checklist-stat-item.regular {
  border-left-color: var(--estado-regular);
}

.checklist-stat-item.malo {
  border-left-color: var(--estado-malo);
}

.checklist-stat-item .semaforo-dot {
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  border: 2px solid var(--border-color);
  margin-right: 0.5rem;
}

.checklist-stat-item.bueno .semaforo-dot {
  background: var(--estado-bueno);
}

.checklist-stat-item.regular .semaforo-dot {
  background: var(--estado-regular);
}

.checklist-stat-item.malo .semaforo-dot {
  background: var(--estado-malo);
}

.stat-label {
  flex: 1;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--texto-secundario);
}

.stat-value {
  font-size: 1.8rem;
  font-weight: 800;
  color: var(--texto-principal);
}

.checklist-modal-history {
  margin-bottom: 1rem;
}

.checklist-modal-evidencias {
  margin-bottom: 1.5rem;
}

.evidencias-upload-zone {
  border: 2px dashed var(--border-color);
  border-radius: var(--radio-chico);
  padding: 1.5rem;
  text-align: center;
  background: var(--gris-claro);
  cursor: pointer;
  transition: var(--transicion-rapida);
  margin-bottom: 1rem;
}

.evidencias-upload-zone:hover {
  border-color: var(--verde-oliva);
  background: rgba(93, 127, 95, 0.05);
}

.evidencias-upload-zone i {
  font-size: 2rem;
  color: var(--verde-oliva);
  margin-bottom: 0.5rem;
  display: block;
}

.evidencias-upload-zone p {
  color: var(--texto-secundario);
  font-size: 0.85rem;
  margin: 0;
}

.evidencias-upload-zone input[type="file"] {
  display: none;
}

.evidencias-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 0.75rem;
}

.evidencia-item {
  position: relative;
  aspect-ratio: 1;
  border: 2px solid var(--border-color);
  border-radius: var(--radio-chico);
  overflow: hidden;
  background: var(--gris-claro);
  cursor: pointer;
  transition: var(--transicion-rapida);
}

.evidencia-item:hover {
  transform: translateY(-2px);
  box-shadow: var(--sombra-suave);
  border-color: var(--verde-oliva);
}

.evidencia-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.evidencia-item-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--texto-secundario);
  font-size: 0.75rem;
  padding: 0.5rem;
  text-align: center;
}

.evidencia-item-placeholder i {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  color: var(--verde-oliva);
}

.evidencia-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: var(--transicion-rapida);
}

.evidencia-item:hover .evidencia-overlay {
  opacity: 1;
}

.btn-ver-evidencia {
  background: var(--verde-oliva);
  color: white;
  border: 2px solid white;
  padding: 0.4rem 0.8rem;
  border-radius: var(--radio-chico);
  font-size: 0.75rem;
  font-weight: 700;
  cursor: pointer;
  transition: var(--transicion-rapida);
}

.btn-ver-evidencia:hover {
  background: white;
  color: var(--verde-oliva);
  border-color: var(--verde-oliva);
}

.evidencia-fecha {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  font-size: 0.65rem;
  padding: 0.25rem;
  text-align: center;
}

.checklist-history-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.history-group h4 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  font-weight: 700;
  margin-bottom: 0.75rem;
  color: var(--texto-principal);
}

.history-group .semaforo-dot {
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  border: 2px solid var(--border-color);
}

.history-group .semaforo-dot.bueno {
  background: var(--estado-bueno);
}

.history-group .semaforo-dot.regular {
  background: var(--estado-regular);
}

.history-group .semaforo-dot.malo {
  background: var(--estado-malo);
}

.history-group ul {
  list-style: none;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  max-height: 300px;
  overflow-y: auto;
  padding-right: 0.5rem;
}

.history-group ul::-webkit-scrollbar {
  width: 6px;
}

.history-group ul::-webkit-scrollbar-track {
  background: var(--gris-claro);
  border-radius: 3px;
}

.history-group ul::-webkit-scrollbar-thumb {
  background: var(--verde-oliva);
  border-radius: 3px;
}

.history-group ul::-webkit-scrollbar-thumb:hover {
  background: var(--negro-carbon);
}

.history-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 1rem;
  background: var(--gris-claro);
  border: 3px solid var(--border-color);
  border-radius: var(--radio-chico);
  border-left: 4px solid var(--verde-oliva);
  transition: var(--transicion-rapida);
}

.history-item:hover {
  transform: translateX(4px);
  box-shadow: var(--sombra-suave);
}

.item-name {
  font-weight: 600;
  color: var(--texto-principal);
}

.item-editor {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.8rem;
  color: var(--texto-secundario);
  font-weight: 500;
}

.item-editor i {
  color: var(--verde-oliva);
}

.no-history {
  padding: 2rem;
  text-align: center;
  color: var(--texto-secundario);
  font-style: italic;
  background: var(--gris-claro);
  border: 2px dashed var(--border-color);
  border-radius: var(--radio-chico);
}

.checklist-modal-footer {
  display: flex;
  gap: 1rem;
  padding: 1.5rem;
  border-top: 3px solid var(--border-color);
  background: var(--gris-claro);
  flex-shrink: 0;
}

.btn-export {
  flex: 1;
  padding: 0.9rem 1.2rem;
  font-size: 0.95rem;
  font-weight: 700;
  border: 3px solid var(--border-color);
  border-radius: var(--radio-chico);
  cursor: pointer;
  transition: var(--transicion-rapida);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.btn-export:active {
  transform: scale(0.98);
}

.btn-export i {
  font-size: 1.1rem;
}

.btn-excel {
  background: var(--estado-bueno);
  color: white;
  border-color: var(--estado-bueno);
}

.btn-excel:hover {
  background: #059669;
  border-color: #059669;
  box-shadow: var(--sombra-suave);
  transform: translateY(-2px);
}

.btn-pdf {
  background: var(--estado-malo);
  color: white;
  border-color: var(--estado-malo);
}

.btn-pdf:hover {
  background: #dc2626;
  border-color: #dc2626;
  box-shadow: var(--sombra-suave);
  transform: translateY(-2px);
}

/* Dark mode para modal de checklist */
:root[data-theme="dark"] .checklist-info-item,
:root[data-theme="dark"] .checklist-stat-item,
:root[data-theme="dark"] .history-item {
  background: rgba(255, 255, 255, 0.05);
}

:root[data-theme="dark"] .no-history {
  background: rgba(255, 255, 255, 0.03);
}

/* Modal de vista de evidencia */
.evidencia-viewer-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 3000;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.9);
}

.evidencia-viewer-content {
  max-width: 90vw;
  max-height: 90vh;
  position: relative;
}

.evidencia-viewer-content img {
  max-width: 100%;
  max-height: 90vh;
  border: 3px solid var(--verde-oliva);
  border-radius: var(--radio-chico);
}

.evidencia-viewer-close {
  position: absolute;
  top: -50px;
  right: 0;
  background: var(--verde-oliva);
  color: white;
  border: 2px solid white;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  transition: var(--transicion-rapida);
}

.evidencia-viewer-close:hover {
  background: white;
  color: var(--negro-carbon);
  transform: rotate(90deg);
}

.evidencia-info {
  position: absolute;
  bottom: -60px;
  left: 0;
  right: 0;
  text-align: center;
  color: white;
  font-size: 0.9rem;
}

/* Responsive para modal */
@media (max-width: 600px) {
  .checklist-modal-content {
    max-width: 100%;
    max-height: 100vh;
    border: none;
    box-shadow: none;
  }
  
  .checklist-modal-info {
    grid-template-columns: 1fr;
  }
  
  .checklist-stats-grid {
    grid-template-columns: 1fr;
  }
  
  .checklist-modal-footer {
    flex-direction: column;
  }
  
  .history-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
}

/* Buscador dentro de cada card */
.checklist-card-search {
  position: relative;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0;
  margin-bottom: 0.5rem;
  border-bottom: 2px solid var(--gris-claro);
}

.checklist-card-search i.fa-search {
  position: absolute;
  left: 0.85rem;
  color: var(--texto-secundario);
  font-size: 0.9rem;
  pointer-events: none;
  z-index: 1;
}

.checklist-search-input {
  flex: 1;
  padding: 0.65rem 0.85rem 0.65rem 2.5rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  background: var(--blanco);
  color: var(--negro-carbon);
  font-size: 0.85rem;
  font-weight: 600;
  font-family: inherit;
  transition: var(--transicion-rapida);
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.08);
}

.checklist-search-input::placeholder {
  color: var(--texto-secundario);
  opacity: 0.7;
}

.checklist-search-input:focus {
  outline: none;
  border-color: var(--verde-oliva);
  box-shadow: 3px 3px 0 rgba(93, 127, 95, 0.2);
  transform: translateY(-1px);
}

.checklist-search-clear {
  display: none;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 2px solid var(--negro-carbon);
  border-radius: 50%;
  background: var(--blanco);
  color: var(--texto-secundario);
  cursor: pointer;
  transition: var(--transicion-rapida);
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.08);
}

.checklist-search-clear:hover {
  background: var(--color-peligro);
  color: var(--blanco);
  border-color: var(--color-peligro);
  transform: rotate(90deg);
}

.checklist-search-clear i {
  font-size: 0.85rem;
}

/* Stats resumen */
.checklist-card-stats {
  display: flex;
  gap: 0.65rem;
  flex-shrink: 0;
  padding: 0.75rem 0;
  border-bottom: 2px dashed var(--gris-medio);
}

.checklist-card-stat {
  flex: 1;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  padding: 0.5rem 0.65rem;
  background: var(--blanco);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.35rem;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.08);
}

.checklist-card-stat-label {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--texto-secundario);
}

.checklist-card-stat .semaforo-dot {
  width: 0.7rem;
  height: 0.7rem;
  border-radius: 50%;
  border: 2px solid var(--negro-carbon);
  background: var(--gris-medio);
}

.checklist-card-stat-value {
  font-size: 1.4rem;
  font-weight: 900;
  color: var(--negro-carbon);
}

.checklist-card-stat.bueno .semaforo-dot {
  background: var(--estado-bueno);
}

.checklist-card-stat.regular .semaforo-dot {
  background: var(--estado-regular);
}

.checklist-card-stat.malo .semaforo-dot {
  background: var(--estado-malo);
}

/* Items con scroll vertical */
.checklist-items {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  overflow-y: auto;
  overflow-x: hidden;
  flex: 1;
  padding-right: 0.5rem;
  margin-right: -0.5rem;
}

.checklist-items::-webkit-scrollbar {
  width: 6px;
}

.checklist-items::-webkit-scrollbar-track {
  background: var(--gris-claro);
  border-radius: 999px;
}

.checklist-items::-webkit-scrollbar-thumb {
  background: var(--negro-carbon);
  border-radius: 999px;
}

.checklist-items::-webkit-scrollbar-thumb:hover {
  background: var(--verde-oliva);
}

/* Item individual */
.checklist-item {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 1rem;
  padding: 0.85rem 1rem;
  background: var(--blanco);
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.08);
  transition: var(--transicion-rapida);
}

.checklist-item:hover {
  transform: translate(-1px, -1px);
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.12);
}

.checklist-item-left {
  display: flex;
  align-items: center;
  min-width: 0;
}

.checklist-item-name {
  font-size: 0.95rem;
  font-weight: 700;
  color: var(--texto-principal);
  letter-spacing: 0.3px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Semáforo estilo Prioridad */
.checklist-item-right {
  display: flex;
  gap: 0.35rem;
}

.checklist-semaforo-group {
  display: flex;
  gap: 0.35rem;
  align-items: center;
}

.checklist-semaforo-option {
  position: relative;
  display: inline-flex;
}

.checklist-semaforo-option input {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.semaforo-visual {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  gap: 0.3rem;
  padding: 0.45rem 0.55rem;
  border: 3px solid var(--gris-medio);
  border-radius: var(--radio-pequeno);
  background: var(--blanco);
  cursor: pointer;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.08);
  transition: var(--transicion-rapida);
  min-width: 56px;
}

.semaforo-visual:hover {
  transform: translateY(-2px);
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.12);
}

.checklist-semaforo-option .semaforo-dot {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid var(--negro-carbon);
  background: var(--gris-claro);
  transition: var(--transicion-rapida);
}

.checklist-semaforo-option .semaforo-text {
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.4px;
  color: var(--texto-secundario);
  text-align: center;
  line-height: 1.1;
}

/* Estados del semáforo - Solo dot tiene color */
.checklist-semaforo-option.bueno .semaforo-dot {
  background: var(--estado-bueno);
  border-color: var(--estado-bueno);
}

.checklist-semaforo-option.regular .semaforo-dot {
  background: var(--estado-regular);
  border-color: var(--estado-regular);
}

.checklist-semaforo-option.malo .semaforo-dot {
  background: var(--estado-malo);
  border-color: var(--estado-malo);
}

/* Estado checked - Borde de color pero fondo blanco */
.checklist-semaforo-option.bueno input:checked + .semaforo-visual {
  border-color: var(--color-exito);
  background: var(--blanco);
  box-shadow: 4px 4px 0 rgba(16, 185, 129, 0.2);
}

.checklist-semaforo-option.regular input:checked + .semaforo-visual {
  border-color: var(--color-advertencia);
  background: var(--blanco);
  box-shadow: 4px 4px 0 rgba(245, 158, 11, 0.2);
}

.checklist-semaforo-option.malo input:checked + .semaforo-visual {
  border-color: var(--color-peligro);
  background: var(--blanco);
  box-shadow: 4px 4px 0 rgba(239, 68, 68, 0.2);
}

.checklist-semaforo-option input:checked + .semaforo-visual .semaforo-text {
  color: var(--negro-carbon);
  font-weight: 900;
}

.checklist-semaforo-option input:checked + .semaforo-visual .semaforo-dot {
  box-shadow: 0 0 12px currentColor;
  transform: scale(1.15);
}

@media (max-width: 1200px) {
  .categoria-btn {
    flex: 1 1 calc(50% - 0.65rem);
    min-width: 200px;
  }
}

@media (max-width: 960px) {
  .checklist-categorias-toggle-bar {
    display: flex;
  }

  .checklist-categorias-wrapper {
    position: relative;
  }

  .checklist-categorias-wrapper[data-mobile-open="false"] .checklist-categorias-filtro {
    display: none;
  }

  .checklist-categorias-wrapper[data-mobile-open="true"] .checklist-categorias-filtro {
    display: grid;
    position: relative;
    border: 3px solid var(--border-color);
    border-radius: var(--radio-grande);
    padding: 1rem;
    background: rgba(245, 236, 252, 0.98);
    box-shadow: var(--sombra-media);
    max-height: 18rem;
    overflow-y: auto;
  }
}

@media (max-width: 768px) {
  .checklist-categorias-wrapper {
    gap: 0.65rem;
  }

  .checklist-categorias-filtro {
    gap: 0.65rem;
    padding-bottom: 0.75rem;
  }

  .categoria-btn {
    flex: 1 1 calc(50% - 0.65rem);
    min-width: 0;
    padding: 0.75rem 1rem;
  }

  .categoria-btn-icon {
    width: 40px;
    height: 40px;
  }

  .checklist-grid {
    grid-template-columns: 1fr;
  }
  
  .checklist-card {
    height: auto;
    max-height: 520px;
  }

  .checklist-items {
    max-height: 320px;
  }

  .checklist-card-header {
    flex-direction: column;
    align-items: stretch;
    text-align: left;
  }

  .checklist-card-header-meta {
    text-align: left;
    align-items: flex-start;
  }
  
  .checklist-item {
    grid-template-columns: 1fr;
    gap: 0.5rem;
  }
  
  .checklist-semaforo-group {
    justify-content: flex-start;
    flex-wrap: wrap;
  }

  .add-section-grid {
    grid-template-columns: 1fr;
  }

  .add-section-actions {
    flex-direction: column;
    align-items: flex-start;
  }
}

@media (max-width: 640px) {
  .categoria-btn {
    flex: 1 1 100%;
  }

  .checklist-room-tag {
    width: 100%;
  }
}

/* Mobile optimizations: mejor disposición de cards y semáforos para pantallas pequeñas */
@media (max-width: 600px) {
  /* Cards: hacerlas más compactas, alto automático y padding cómodo */
  .checklist-card {
    padding: 1rem;
    border-width: 3px;
    height: auto;
    max-height: none;
  }

  /* Header móvil */
  .checklist-card-header {
    gap: 0.65rem;
    padding-bottom: 0.75rem;
  }

  .checklist-header-top {
    flex-wrap: wrap;
    gap: 0.65rem;
  }

  .checklist-room-title {
    gap: 0.6rem;
    flex-wrap: wrap;
  }

  .checklist-room-number {
    font-size: 1.4rem;
  }

  .checklist-estado-badge {
    padding: 0.3rem 0.6rem;
    font-size: 0.7rem;
  }

  .checklist-action-btn {
    width: 28px;
    height: 28px;
    font-size: 0.85rem;
  }

  .checklist-header-bottom {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }

  .checklist-meta-group {
    gap: 0.6rem;
    width: 100%;
  }

  .checklist-meta-item {
    font-size: 0.8rem;
  }

  .checklist-editor-tag {
    width: 100%;
    justify-content: center;
  }



  /* Stats: usar fila horizontal con scroll si es necesario */
  .checklist-card-stats {
    display: flex;
    gap: 0.5rem;
    overflow-x: auto;
    padding-bottom: 0.6rem;
  }

  .checklist-card-stat {
    flex: 0 0 28%;
    min-width: 120px;
    padding: 0.55rem 0.6rem;
    align-items: center;
  }

  /* Aumentar tamaño del punto semáforo dentro de la card para mejor visibilidad y tactilidad */
  .checklist-card-stat .semaforo-dot {
    width: 1.1rem;
    height: 1.1rem;
    border-width: 2px;
  }

  /* Items: simplificar layout para tocar más fácil */
  .checklist-item {
    grid-template-columns: 1fr auto;
    gap: 0.5rem;
    padding: 0.7rem 0.85rem;
  }

  /* Semáforo visual (opciones): aumentar padding y tamaño del dot */
  .semaforo-visual {
    padding: 0.65rem 0.8rem;
    min-width: 68px;
  }

  .checklist-semaforo-option .semaforo-dot {
    width: 18px;
    height: 18px;
  }

  /* Aumentar el área de interacción del grupo semáforo */
  .checklist-semaforo-group {
    gap: 0.5rem;
  }

  /* Reducir tamaños de texto que ocupan mucho espacio */
  .checklist-card-stat-value { font-size: 1.2rem; }
  .checklist-item-name { font-size: 0.95rem; }

  /* Limitar altura de items para scroll de 2-3 elementos visibles en móvil */
  .checklist-items { 
    max-height: 280px;
    overflow-y: auto;
  }

  /* Buscador en móvil: más compacto y táctil */
  .checklist-card-search {
    padding: 0.4rem 0;
    margin-bottom: 0.4rem;
  }

  .checklist-search-input {
    padding: 0.6rem 0.75rem 0.6rem 2.3rem;
    font-size: 0.85rem;
  }

  .checklist-card-search i.fa-search {
    left: 0.75rem;
    font-size: 0.85rem;
  }

  .checklist-search-clear {
    width: 36px;
    height: 36px;
  }
}

/* Modo oscuro para el buscador */
:root[data-theme="dark"] .checklist-search-input {
  background: var(--bg-principal);
  color: var(--texto-principal);
  border-color: var(--border-color);
}

:root[data-theme="dark"] .checklist-search-input::placeholder {
  color: var(--texto-secundario);
}

:root[data-theme="dark"] .checklist-search-input:focus {
  border-color: var(--verde-oliva);
  box-shadow: 3px 3px 0 rgba(110, 241, 195, 0.3);
}

:root[data-theme="dark"] .checklist-search-clear {
  background: var(--bg-principal);
  border-color: var(--border-color);
  color: var(--texto-secundario);
}

:root[data-theme="dark"] .checklist-search-clear:hover {
  background: var(--color-peligro);
  border-color: var(--color-peligro);
  color: var(--blanco);
}

/* Badges de estado en modo oscuro */
:root[data-theme="dark"] .checklist-room-number {
  color: var(--texto-principal);
}

:root[data-theme="dark"] .checklist-meta-item {
  color: var(--texto-secundario);
}

:root[data-theme="dark"] .checklist-action-btn {
  background: var(--bg-principal);
  border-color: var(--border-color);
  color: var(--texto-secundario);
}

:root[data-theme="dark"] .checklist-action-btn:hover {
  background: var(--texto-principal);
  color: var(--bg-principal);
  border-color: var(--texto-principal);
}

:root[data-theme="dark"] .checklist-estado-badge.estado-disponible {
  background: rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.4);
  color: #6ee7b7;
}

:root[data-theme="dark"] .checklist-estado-badge.estado-ocupado {
  background: rgba(59, 130, 246, 0.2);
  border-color: rgba(59, 130, 246, 0.4);
  color: #93c5fd;
}

:root[data-theme="dark"] .checklist-estado-badge.estado-mantenimiento {
  background: rgba(245, 158, 11, 0.2);
  border-color: rgba(245, 158, 11, 0.4);
  color: #fbbf24;
}

:root[data-theme="dark"] .checklist-estado-badge.estado-fuera-servicio {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.4);
  color: #fca5a5;
}

:root[data-theme="dark"] .checklist-editor-tag {
  background: rgba(110, 241, 195, 0.15);
  color: var(--verde-oliva);
}

:root[data-theme="dark"] .checklist-meta-divider {
  background: var(--gris-oscuro);
}



.checklist-recientes-panel {
  padding: 1.5rem;
}

.checklist-recientes-panel .panel-header-alertas {
  margin-bottom: 0;
}

.checklist-recientes-panel .panel-header-alertas h2 {
  margin: 0;
}

.checklist-recientes-panel .checklist-recientes-search {
  margin-top: 1rem;
  margin-bottom: 1rem;
}

.lista-inspecciones-wrapper {
  max-height: 430px;
  overflow-y: auto;
  padding-right: 0.4rem;
}

.lista-inspecciones-wrapper::-webkit-scrollbar {
  width: 6px;
}

.lista-inspecciones-wrapper::-webkit-scrollbar-thumb {
  background: var(--negro-carbon);
  border-radius: 999px;
}

.lista-inspecciones-resumen {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.inspeccion-item {
  position: relative;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: #ffffff;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.1);
  padding: 1rem;
  transition: all 0.2s ease;
  overflow: hidden;
}

.inspeccion-item:hover {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.1);
}

.inspeccion-habitacion {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.65rem;
  font-size: 0.85rem;
  color: var(--texto-secundario);
}

.inspeccion-numero {
  font-weight: 700;
  color: var(--negro-carbon);
  font-size: 0.95rem;
}

.inspeccion-titulo {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--negro-carbon);
  margin-bottom: 0.75rem;
  line-height: 1.3;
}

.inspeccion-footer {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  font-size: 0.8rem;
  color: var(--texto-secundario);
  margin-bottom: 0.75rem;
}

.inspeccion-footer span {
  display: flex;
  align-items: center;
  gap: 0.4rem;
}

.inspeccion-footer i {
  width: 14px;
  text-align: center;
}

.inspeccion-estado {
  position: absolute;
  top: 0.75rem;
  right: 0.75rem;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  border: 2px solid var(--negro-carbon);
}

.inspeccion-estado.estado-aprobada {
  background: var(--color-exito);
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
}

.inspeccion-estado.estado-pendiente {
  background: var(--color-advertencia);
  box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
}

.inspeccion-estado.estado-rechazada {
  background: var(--color-peligro);
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
}

.mensaje-sin-inspecciones {
  margin-top: 1rem;
  padding: 1rem;
  border: 2px dashed var(--border-color);
  border-radius: var(--radio-medio);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.4rem;
  color: var(--texto-secundario);
  text-align: center;
}

.mensaje-sin-inspecciones i {
  color: var(--color-advertencia);
  font-size: 1.2rem;
}

.inspeccion-placeholder {
  list-style: none;
  border: 2px dashed var(--border-color);
  border-radius: var(--radio-medio);
  padding: 0.85rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--texto-secundario);
  font-size: 0.9rem;
}

.checklist-semaforo-option.bueno input:checked + .semaforo-visual .semaforo-dot {
  color: var(--color-exito);
}

.checklist-semaforo-option.regular input:checked + .semaforo-visual .semaforo-dot {
  color: var(--color-advertencia);
}

.checklist-semaforo-option.malo input:checked + .semaforo-visual .semaforo-dot {
  color: var(--color-peligro);
}

.checklist-semaforo-option input:checked + .semaforo-visual .semaforo-text {
  color: var(--negro-carbon);
}

@media (max-width: 600px) {
  .checklist-card-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .checklist-card-header-meta {
    text-align: left;
    align-items: flex-start;
  }

  .checklist-semaforo-group {
    justify-content: flex-start;
  }
}

/* ========================================
   GESTIÓN DE USUARIOS
   ======================================== */
.usuarios-container {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.usuarios-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 1.25rem;
  width: 100%;
}

.usuario-card {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  border: 4px solid var(--negro-carbon);
  border-radius: 12px;
  padding: 1.25rem;
  box-shadow: 8px 8px 0px var(--negro-carbon);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  max-width: 420px;
}

.usuario-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, var(--verde-oliva), #4a5f3a);
}

.usuario-card:hover {
  transform: translateY(-4px);
  box-shadow: 10px 10px 0px var(--negro-carbon);
}

.usuario-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  padding-bottom: 0.875rem;
  border-bottom: 3px solid var(--gris-medio);
}

.usuario-avatar {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--verde-oliva), #4a5f3a);
  border: 3px solid var(--negro-carbon);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
  color: #ffffff;
  flex-shrink: 0;
  box-shadow: 3px 3px 0px var(--negro-carbon);
}

.usuario-info-principal {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.usuario-info {
  flex: 1;
}

.usuario-nombre {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--negro-carbon);
  margin: 0;
  letter-spacing: -0.3px;
}

.usuario-email {
  font-size: 0.85rem;
  color: var(--texto-secundario);
}

/* Badges de Rol */
.badge-rol {
  display: inline-block;
  padding: 0.3rem 0.75rem;
  border-radius: 5px;
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.6px;
  border: 2px solid var(--negro-carbon);
  box-shadow: 2px 2px 0px var(--negro-carbon);
  width: fit-content;
}

.badge-admin {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: #ffffff;
}

.badge-supervisor {
  background: linear-gradient(135deg, #06b6d4, #0891b2);
  color: #ffffff;
}

.badge-tecnico {
  background: linear-gradient(135deg, #10b981, #059669);
  color: #ffffff;
}

.usuario-role {
  display: inline-block;
  padding: 0.3rem 0.8rem;
  background: var(--verde-oliva);
  color: #ffffff;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  border-radius: var(--radio-pequeno);
  margin-top: 0.5rem;
}

/* Detalles del Usuario */
.usuario-detalles {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-bottom: 0.875rem;
}

.detalle-item {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  padding: 0.45rem 0.6rem;
  background: var(--gris-claro);
  border: 2px solid var(--gris-medio);
  border-radius: 6px;
  font-size: 0.8rem;
  color: var(--negro-carbon);
  font-weight: 500;
  transition: all 0.2s ease;
}

.detalle-item:hover {
  background: var(--blanco);
  border-color: var(--verde-oliva);
  transform: translateX(4px);
}

.detalle-item i {
  color: var(--verde-oliva);
  width: 18px;
  text-align: center;
  font-size: 1rem;
}

/* Footer del Usuario */
.usuario-footer {
  display: flex;
  flex-direction: column;
  padding-top: 1rem;
  border-top: 3px solid var(--gris-medio);
  gap: 0.75rem;
}

.usuario-info-sesiones {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.75rem;
}

.usuario-sesion {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.sesion-label {
  font-size: 0.65rem;
  font-weight: 700;
  color: var(--gris-oscuro);
  letter-spacing: 0.6px;
  text-transform: uppercase;
}

.sesion-valor {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--negro-carbon);
}

.usuario-sesiones {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  padding: 0.4rem 0.75rem;
  background: var(--gris-claro);
  border: 2px solid var(--gris-medio);
  border-radius: 6px;
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--negro-carbon);
  box-shadow: 2px 2px 0px var(--negro-carbon);
}

.usuario-sesiones-resumen {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 0.65rem 0.85rem;
  background: var(--gris-claro);
  border: 2px solid var(--gris-medio);
  border-radius: 8px;
  box-shadow: 3px 3px 0 var(--negro-carbon);
}

.usuario-sesiones-resumen .sesion-label {
  font-size: 0.7rem;
  letter-spacing: 0.8px;
  color: var(--gris-oscuro);
}

.sesion-valores {
  display: flex;
  gap: 0.75rem;
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.6px;
}

.sesion-valores span {
  font-weight: 700;
}

.sesion-total {
  color: var(--negro-carbon);
}

.sesion-activas {
  color: var(--verde-oliva);
}

.usuario-sesiones.activas-destacadas {
  background: linear-gradient(135deg, #fef3c7, #fde047);
  border-color: #eab308;
  animation: pulse-light 2s ease-in-out infinite;
}

@keyframes pulse-light {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

.usuario-sesiones i {
  color: var(--verde-oliva);
  font-size: 0.8rem;
}

/* Switch de Activación/Desactivación Usuario */

.usuario-switch-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  padding: 0.9rem 1rem;
  background: linear-gradient(135deg, #f8f9fa, #e9ecef);
  border: 2px solid var(--gris-medio);
  border-radius: 8px;
  width: 100%;
  flex-wrap: wrap;
}

.checkbox-wrapper-35 {
  width: auto;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  --switch-toggle-width: 120px;
}

.checkbox-wrapper-35 .switch {
  display: none;
}



.checkbox-wrapper-35 .switch + label {
  -webkit-box-align: center;
  -webkit-align-items: center;
  -ms-flex-align: center;
  align-items: center;
  color: #78768d;
  cursor: pointer;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  text-align: left;
  gap: 0.4rem;
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 12px;
  line-height: 15px;
  position: relative;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.usuario-switch-container .switch-x-text,
.usuario-switch-container .switch-x-toggletext {
  text-align: left;
  width: auto;
}


.checkbox-wrapper-35 .switch + label::before,
.checkbox-wrapper-35 .switch + label::after {
  content: '';
  display: block;
}

.checkbox-wrapper-35 .switch + label::before {
  background-color: #05012c;
  border-radius: 500px;
  height: 15px;
  margin-right: 8px;
  -webkit-transition: background-color 0.125s ease-out;
  transition: background-color 0.125s ease-out;
  width: 25px;
}

.checkbox-wrapper-35 .switch + label::after {
  background-color: #fff;
  border-radius: 13px;
  box-shadow: 0 3px 1px 0 rgba(37, 34, 71, 0.05), 0 2px 2px 0 rgba(37, 34, 71, 0.1), 0 3px 3px 0 rgba(37, 34, 71, 0.05);
  height: 13px;
  left: 1px;
  position: absolute;
  top: 1px;
  -webkit-transition: -webkit-transform 0.125s ease-out;
  transition: -webkit-transform 0.125s ease-out;
  transition: transform 0.125s ease-out;
  transition: transform 0.125s ease-out, -webkit-transform 0.125s ease-out;
  width: 13px;
}

.checkbox-wrapper-35 .switch + label .switch-x-text {
  display: block;
  margin-right: .3em;
}

.checkbox-wrapper-35 .switch + label .switch-x-toggletext {
  display: block;
  font-weight: bold;
  height: 15px;
  overflow: hidden;
  position: relative;
  width: var(--switch-toggle-width, 25px);
}

.checkbox-wrapper-35 .switch + label .switch-x-unchecked,
.checkbox-wrapper-35 .switch + label .switch-x-checked {
  left: 0;
  position: absolute;
  top: 0;
  -webkit-transition: opacity 0.125s ease-out, -webkit-transform 0.125s ease-out;
  transition: opacity 0.125s ease-out, -webkit-transform 0.125s ease-out;
  transition: transform 0.125s ease-out, opacity 0.125s ease-out;
  transition: transform 0.125s ease-out, opacity 0.125s ease-out, -webkit-transform 0.125s ease-out;
}

.checkbox-wrapper-35 .switch + label .switch-x-unchecked {
  opacity: 1;
  -webkit-transform: none;
  transform: none;
}

.checkbox-wrapper-35 .switch + label .switch-x-checked {
  opacity: 0;
  -webkit-transform: translate3d(0, 100%, 0);
  transform: translate3d(0, 100%, 0);
}

.checkbox-wrapper-35 .switch + label .switch-x-hiddenlabel {
  position: absolute;
  visibility: hidden;
}

.checkbox-wrapper-35 .switch:checked + label::before {
  background-color: #ffb500;
}

.checkbox-wrapper-35 .switch:checked + label::after {
  -webkit-transform: translate3d(10px, 0, 0);
  transform: translate3d(10px, 0, 0);
}

.checkbox-wrapper-35 .switch:checked + label .switch-x-unchecked {
  opacity: 0;
  -webkit-transform: translate3d(0, -100%, 0);
  transform: translate3d(0, -100%, 0);
}

.checkbox-wrapper-35 .switch:checked + label .switch-x-checked {
  opacity: 1;
  -webkit-transform: none;
  transform: none;
}

@media (max-width: 540px) {
  .checkbox-wrapper-35 .switch + label {
    flex-direction: column;
    align-items: center;
    gap: 0.6rem;
  }

  .checkbox-wrapper-35 .switch + label::before {
    margin-right: 0;
  }

  .checkbox-wrapper-35 .switch + label .switch-x-toggletext {
    min-width: auto;
    width: 100%;
  }
}

.usuario-actions {
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
}

.btn-edit-user,
.btn-delete-user {
  flex: 1;
  padding: 0.6rem;
  border: 2px solid var(--border-color);
  background: var(--bg-principal);
  color: var(--texto-principal);
  font-weight: 600;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s ease;
  border-radius: var(--radio-pequeno);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

.btn-edit-user:hover {
  background: var(--verde-oliva);
  color: #ffffff;
  border-color: var(--verde-oliva);
}

.btn-delete-user:hover {
  background: var(--rojo-vino);
  color: #ffffff;
  border-color: var(--rojo-vino);
}

/* ========================================
   PIXAR-STYLE ESTADÍSTICAS USUARIOS
   ======================================== */
.usuarios-stats-container {
  width: 100%;
  margin-top: 1.5rem;
  display: flex;
  justify-content: center;
  align-items: stretch;
}

.usuarios-stats-container .pixar-card {
  --ui-blue: var(--negro-carbon);
  --ui-blue-shadow: #1a1a1a;
  --ui-green: var(--verde-oliva);
  --ui-green-shadow: #3a4a3a;
  --ui-red: var(--gris-grafito);
  --ui-red-shadow: #4a4a4a;
  --ui-cream: var(--blanco);
  --ui-cream-shadow: #e0e0e0;
  --ui-dark: var(--negro-carbon);
  --button-press-depth: 0.15em;
  position: relative;
  width: min(100%, 21em);
  background-color: var(--ui-cream);
  border-radius: 1.5em;
  padding: 1.2em;
  border: 0.2em solid var(--ui-dark);
  box-shadow: 0.6em 0.6em 0 var(--ui-dark);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1),
    box-shadow 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.usuarios-stats-container .pixar-card:hover {
  transform: translateY(-0.5em) rotate(-2deg);
  box-shadow: 0.8em 0.8em 0 var(--ui-dark);
}

.usuario-stats-card .card-header {
  display: flex;
  align-items: center;
  gap: 0.8em;
}

.usuario-stats-card .card-avatar {
  width: 3.2em;
  height: 3.2em;
  border-radius: 50%;
  background: linear-gradient(45deg, var(--verde-oliva), #5a6a5a);
  border: 0.2em solid var(--ui-dark);
  box-shadow: 0.2em 0.2em 0 var(--ui-dark);
  flex-shrink: 0;
  transition: transform 0.3s ease;
}

.usuarios-stats-container .pixar-card:hover .card-avatar {
  transform: scale(1.05) rotate(5deg);
}

.usuario-stats-card .card-username {
  margin: 0;
  font-size: 1.1em;
  font-weight: 700;
  color: var(--ui-dark);
}

.usuario-stats-card .card-image-area {
  background-color: #f5f5f5;
  border-radius: 1em;
  padding: 0.8em;
  border: 0.2em solid var(--ui-dark);
  box-shadow: inset 0.2em 0.2em 0 rgba(0,0,0,0.1);
}

.usuario-stats-card .card-image-placeholder {
  width: 100%;
  height: 4.2em;
  border-radius: 0.6em;
  border: 0.2em solid var(--ui-dark);
  background: var(--blanco);
  position: relative;
  overflow: hidden;
}

.usuario-stats-card .pixar-progress {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: var(--progress-value, 0%);
  background: linear-gradient(135deg, var(--verde-oliva), #6a7a6a);
  transition: width 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.usuario-stats-card .pixar-progress::after {
  content: attr(data-percent);
  position: absolute;
  right: 0.75em;
  top: 50%;
  transform: translateY(-50%);
  font-weight: 700;
  color: var(--blanco);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  font-size: 0.9em;
}

.usuario-stats-card .card-caption {
  margin: 0.7em 0 0;
  font-size: 0.85em;
  line-height: 1.4;
  color: var(--negro-carbon);
  font-weight: 600;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.card-caption-highlight {
  font-size: 0.8em;
  color: var(--rojo-vino);
  font-weight: 700;
}

.usuario-stats-card .card-actions {
  display: flex;
  justify-content: space-between;
  gap: 0.5em;
  margin-top: auto;
}

.usuario-stats-card .action-button {
  flex: 1;
  background: var(--ui-green);
  border: 0.2em solid var(--ui-dark);
  border-radius: 1em;
  padding: 0.5em;
  cursor: pointer;
  box-shadow: 0 var(--button-press-depth) 0 var(--ui-green-shadow), 0 0.4em 0 var(--ui-dark);
  transition: transform 0.1s ease, box-shadow 0.1s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--blanco);
}

.usuario-stats-card .action-button.like-button {
  background: var(--ui-red);
  box-shadow: 0 var(--button-press-depth) 0 var(--ui-red-shadow), 0 0.4em 0 var(--ui-dark);
  color: var(--blanco);
}

.usuario-stats-card .action-button.comment-button {
  background: var(--ui-blue);
  box-shadow: 0 var(--button-press-depth) 0 var(--ui-blue-shadow), 0 0.4em 0 var(--ui-dark);
  color: var(--blanco);
}

.usuario-stats-card .action-button:active {
  transform: translateY(var(--button-press-depth));
  box-shadow: 0 0 0 rgba(0, 0, 0, 0), 0 var(--button-press-depth) 0 var(--ui-dark);
}

.action-button-metric {
  display: flex;
  flex-direction: column;
  align-items: center;
  color: var(--blanco);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.action-button-metric strong {
  font-size: 1.4em;
  font-weight: 900;
}

.metric-label {
  font-size: 0.7em;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  font-weight: 700;
  opacity: 0.95;
}

/* Formulario de Usuario - Estilo Espacios Comunes */
.usuarios-form-content {
  display: flex;
  flex-direction: column;
}

.usuarios-form-content .brutalist-input,
.usuarios-form-content .brutalist-select {
  width: 100%;
  padding: 0.85rem;
  font-size: 0.95rem;
  border: 3px solid var(--negro-carbon);
  border-radius: 8px;
  background: var(--blanco);
  color: var(--negro-carbon);
  font-family: inherit;
  font-weight: 500;
  transition: all 0.2s ease;
}

.usuarios-form-content .brutalist-input:focus,
.usuarios-form-content .brutalist-select:focus {
  outline: none;
  box-shadow: 0 0 0 4px rgba(115, 138, 85, 0.25);
  border-color: var(--verde-oliva);
  transform: translateY(-2px);
}

.usuarios-form-content textarea.brutalist-input {
  resize: vertical;
  min-height: 80px;
  font-family: inherit;
}

.input-help {
  font-size: 0.78rem;
  color: var(--gris-oscuro);
  font-style: italic;
  line-height: 1.3;
}

/* Switches Container */
.switches-container {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding: 1.25rem;
  background: linear-gradient(135deg, #f8f9fa, #e9ecef);
  border: 3px solid var(--gris-medio);
  border-radius: 10px;
  box-shadow: inset 3px 3px 6px rgba(0,0,0,0.1);
}

.switch-item {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.switch-label {
  font-size: 0.9rem;
  color: var(--negro-carbon);
  font-weight: 600;
  flex: 1;
  line-height: 1.4;
}

/* Switch Toggle Moderno */
.switch-toggle {
  position: relative;
  display: inline-block;
  width: 54px;
  height: 28px;
  flex-shrink: 0;
}

.switch-toggle input {
  opacity: 0;
  width: 0;
  height: 0;
}

.switch-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--gris-medio);
  border: 3px solid var(--negro-carbon);
  transition: 0.3s;
  border-radius: 28px;
  box-shadow: inset 2px 2px 4px rgba(0,0,0,0.15);
}

.switch-slider::before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 2px;
  bottom: 2px;
  background-color: var(--blanco);
  border: 2px solid var(--negro-carbon);
  transition: 0.3s;
  border-radius: 50%;
  box-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}

.switch-toggle input:checked + .switch-slider {
  background: linear-gradient(135deg, var(--verde-oliva), #4a5f3a);
}

.switch-toggle input:checked + .switch-slider::before {
  transform: translateX(26px);
  background-color: #ffffff;
  box-shadow: -2px 2px 4px rgba(0,0,0,0.2);
}

.switch-toggle input:focus + .switch-slider {
  box-shadow: 0 0 0 3px rgba(115, 138, 85, 0.3), inset 2px 2px 4px rgba(0,0,0,0.15);
}

/* ========================================
   TABLAS RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
  /* Tabla Responsive - Headers verticales */
  .responsive-table table,
  .responsive-table thead,
  .responsive-table tbody,
  .responsive-table th,
  .responsive-table td,
  .responsive-table tr {
    display: block;
  }

  .responsive-table thead tr {
    position: absolute;
    top: -9999px;
    left: -9999px;
  }

  .responsive-table tr {
    border: 3px solid var(--border-color);
    margin-bottom: 1rem;
    border-radius: var(--radio-medio);
    overflow: hidden;
  }

  .responsive-table td {
    border: none;
    position: relative;
    padding-left: 50% !important;
    text-align: left;
    border-bottom: 1px solid var(--gris-separador);
  }

  .responsive-table td:last-child {
    border-bottom: none;
  }

  .responsive-table td:before {
    position: absolute;
    left: 1rem;
    width: 45%;
    padding-right: 10px;
    white-space: nowrap;
    content: attr(data-label);
    font-weight: 700;
    color: var(--verde-oliva);
  }

  /* Ajustar habitaciones */
  .sabana-table td:first-child:before {
    content: "Habitación:";
  }
  .sabana-table td:nth-child(2):before {
    content: "Edificio:";
  }
  .sabana-table td:nth-child(3):before {
    content: "Tipo Filtro:";
  }
  .sabana-table td:nth-child(4):before {
    content: "Última Revisión:";
  }
  .sabana-table td:nth-child(5):before {
    content: "Estado:";
  }
  .sabana-table td:nth-child(6):before {
    content: "Cambio:";
  }
}

/* ========================================
   RESPONSIVE - INSPECCIONES Y ESPACIOS
   ======================================== */
@media (max-width: 768px) {
  .espacios-header-info {
    grid-template-columns: 1fr;
  }
  
  .acciones-rapidas-grid {
    grid-template-columns: 1fr;
  }
  
  .semaforo-horizontal {
    flex-direction: column;
    padding: 1rem;
  }
  
  .semaforo-light {
    width: 50px;
    height: 50px;
  }
  
  .checklist-grid {
    grid-template-columns: 1fr;
  }
  
  .usuarios-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .usuario-card {
    padding: 1rem;
    max-width: 100%;
  }
  
  .usuario-avatar {
    width: 48px;
    height: 48px;
    font-size: 1.2rem;
  }
  
  .usuario-nombre {
    font-size: 1rem;
  }
  
  .usuario-info-sesiones {
    grid-template-columns: 1fr;
    gap: 0.5rem;
  }
  
  .usuario-switch-container {
    padding: 0.6rem;
  }
  
  .checkbox-wrapper-35 .switch + label {
    font-size: 11px;
  }
  
  .checkbox-wrapper-35 {
    --switch-toggle-width: 75px;
  }

  .checkbox-wrapper-35 .switch + label .switch-x-toggletext {
    font-size: 10px;
  }
  
  /* Ajustes adicionales para móvil pequeño */
  .espacios-header-info {
    grid-template-columns: 1fr;
  }
  
  .acciones-rapidas-grid {
    grid-template-columns: 1fr;
  }
  
  .semaforo-horizontal {
    flex-direction: column;
    padding: 1rem;
  }
  
  .semaforo-light {
    width: 50px;
    height: 50px;
  }
  
  .checklist-grid {
    grid-template-columns: 1fr;
  }
  
  .usuarios-grid {
    grid-template-columns: 1fr;
  }
  
  .user-info {
    order: -1;
    flex: 1 1 100%;
    align-items: center;
  }
}

/* ========================================
   ADMIN ONLY - Ocultar elementos
   ======================================== */
.admin-only {
  display: none;
}

body.admin .admin-only {
  display: flex;
}

button.admin-only {
  display: none;
}

body.admin button.admin-only {
  display: flex;
}

a.admin-only {
  display: none;
}

body.admin a.admin-only {
  display: flex;
}

/* ========================================
   MODAL DE DETALLES DE SERVICIOS
   ======================================== */
.modal-detalles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.2s ease;
}

.modal-detalles-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
}

.modal-detalles-contenido {
  position: relative;
  background: var(--bg-principal);
  border: 4px solid var(--border-color);
  border-radius: var(--radio-grande);
  box-shadow: var(--sombra-brutal);
  width: min(520px, calc(100% - 2rem));
  max-width: 520px;
  max-height: 80vh;
  overflow: hidden;
  z-index: 2001;
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modal-detalles-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.5rem;
  background: var(--verde-oliva);
  color: var(--blanco);
  border-bottom: 3px solid var(--negro-carbon);
}

.modal-detalles-header h3 {
  margin: 0;
  font-size: 1.3rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex: 1;
}

.btn-volver-lista {
  background: transparent;
  border: 2px solid var(--blanco);
  color: var(--blanco);
  width: 35px;
  height: 35px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transicion-rapida);
  font-size: 1rem;
  margin-right: 0.8rem;
  flex-shrink: 0;
}

.btn-volver-lista:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateX(-3px);
}

.btn-volver-lista:active {
  transform: scale(0.95);
}

.modal-detalles-cerrar {
  background: transparent;
  border: 2px solid var(--blanco);
  color: var(--blanco);
  width: 35px;
  height: 35px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transicion-rapida);
  font-size: 1.1rem;
  flex-shrink: 0;
}

.modal-detalles-cerrar:hover {
  background: var(--blanco);
  color: var(--verde-oliva);
  transform: rotate(90deg);
}

.modal-detalles-body {
  padding: 1.5rem;
  max-height: calc(80vh - 80px);
  overflow-y: auto;
}

.modal-editar-usuario .modal-detalles-contenido {
  max-width: 520px;
  width: min(520px, calc(100% - 2rem));
}

.usuario-edit-form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.usuario-edit-field label {
  font-weight: 700;
  font-size: 0.9rem;
  color: var(--negro-carbon);
  display: block;
  margin-bottom: 0.35rem;
}

.usuario-edit-input {
  width: 100%;
  border: 3px solid var(--negro-carbon);
  border-radius: 10px;
  padding: 0.85rem 1rem;
  font-size: 0.95rem;
  background: var(--blanco);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.usuario-edit-input:focus {
  outline: none;
  border-color: var(--rojo-vino);
  box-shadow: 0 0 0 3px rgba(255, 0, 64, 0.15);
}

.usuario-edit-help {
  font-size: 0.78rem;
  color: var(--gris-grafito);
  margin-top: 0.35rem;
}

.usuario-edit-feedback {
  min-height: 1.25rem;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--negro-carbon);
}

.usuario-edit-feedback.is-error {
  color: var(--rojo-vino);
}

.usuario-edit-feedback.is-success {
  color: var(--verde-oliva);
}

.usuario-edit-actions {
  display: flex;
  justify-content: center;
  margin-top: 0.5rem;
}

.btn-save-edit-user {
  display: inline-flex;
  align-items: center;
  gap: 0.6rem;
  padding: 0.9rem 1.6rem;
  border: 3px solid var(--negro-carbon);
  border-radius: 12px;
  background: var(--rojo-vino);
  color: #fff;
  font-weight: 800;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.btn-save-edit-user:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 0 rgba(0, 0, 0, 0.35);
}

.btn-save-edit-user:active {
  transform: translateY(0);
  box-shadow: none;
}

.detalle-item {
  padding: 1rem;
  margin-bottom: 1rem;
  background: var(--gris-claro);
  border-left: 4px solid var(--verde-oliva);
  border-radius: var(--radio-medio);
  transition: var(--transicion-rapida);
}

.detalle-item:hover {
  transform: translateX(3px);
  background: var(--gris-separador);
}

.detalle-item:last-child {
  margin-bottom: 0;
}

.detalle-item-editable {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.detalle-item-editable:last-child {
  margin-bottom: 0;
}

.detalle-item-contenido {
  flex: 1;
  padding: 1rem;
  background: var(--gris-claro);
  border-left: 4px solid var(--verde-oliva);
  border-radius: var(--radio-medio);
  transition: var(--transicion-rapida);
  cursor: pointer;
  display: flex;
  align-items: flex-start;
  gap: 1rem;
}

.detalle-item-contenido:hover {
  transform: translateX(3px);
  background: var(--gris-separador);
}

.btn-eliminar-servicio {
  background: var(--rojo-vino);
  color: var(--blanco);
  border: 2px solid var(--negro-carbon);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transicion-rapida);
  flex-shrink: 0;
}

.btn-eliminar-servicio:hover {
  background: var(--color-peligro);
  transform: scale(1.1) rotate(10deg);
  box-shadow: 0 4px 12px rgba(161, 92, 92, 0.4);
}

.btn-eliminar-servicio:active {
  transform: scale(0.95);
}

.btn-eliminar-servicio i {
  font-size: 0.9rem;
}

.detalle-label {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--gris-grafito);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 0.3rem;
  display: flex;
  align-items: center;
  gap: 0.3rem;
  min-width: 100px;
}

.detalle-valor {
  font-size: 1rem;
  font-weight: 500;
  color: var(--texto-principal);
  line-height: 1.4;
  flex: 1;
}

.detalle-item-contenido .detalle-valor {
  flex: 1;
}

.detalle-item-contenido .fa-chevron-right {
  flex-shrink: 0;
  margin-top: 0.3rem;
}

.detalle-fecha-hora {
  display: flex;
  gap: 1rem;
  margin-top: 0.5rem;
}

.detalle-fecha-hora .detalle-item {
  flex: 1;
  margin-bottom: 0;
  padding: 0.7rem;
}

.nivel-alerta-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  border-radius: var(--radio-medio);
  font-weight: 600;
  font-size: 0.9rem;
  border: 2px solid var(--negro-carbon);
}

.nivel-alerta-badge .semaforo-indicator {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 2px solid var(--negro-carbon);
  box-shadow: 0 0 10px currentColor;
}

.nivel-alerta-baja {
  background: rgba(0, 153, 0, 0.1);
  color: var(--estado-bueno);
}

.nivel-alerta-baja .semaforo-indicator {
  background: var(--estado-bueno);
  box-shadow: 0 0 15px var(--estado-bueno);
}

.nivel-alerta-media {
  background: rgba(255, 181, 0, 0.1);
  color: var(--estado-regular);
}

.nivel-alerta-media .semaforo-indicator {
  background: var(--estado-regular);
  box-shadow: 0 0 15px var(--estado-regular);
}

.nivel-alerta-alta {
  background: rgba(153, 0, 0, 0.1);
  color: var(--estado-malo);
}

.nivel-alerta-alta .semaforo-indicator {
  background: var(--estado-malo);
  box-shadow: 0 0 15px var(--estado-malo);
}

/* ========================================
   CARDS DE HABITACIONES - ESTILO ESPACIOS COMUNES
   ======================================== */
.habitaciones-pagination {
  display: none;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-top: 1.5rem;
  padding: 0.75rem 1.25rem;
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(76, 84, 76, 0.18);
  border-radius: 18px;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(10px);
  flex-wrap: wrap;
}

.usuarios-pagination {
  margin-top: 2rem;
}

body.dark-mode .habitaciones-pagination {
  background: rgba(20, 20, 20, 0.6);
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: 0 12px 34px rgba(0, 0, 0, 0.45);
}

.pagination-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.55rem 1.25rem;
  border-radius: 999px;
  border: 2px solid var(--verde-oliva);
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.75) 100%);
  color: var(--verde-oliva);
  font-weight: 600;
  font-family: 'Montserrat', sans-serif;
  cursor: pointer;
  transition: var(--transicion-normal);
  position: relative;
  overflow: hidden;
}

.pagination-btn i {
  font-size: 0.85rem;
}

.pagination-btn:hover {
  background: var(--verde-oliva);
  color: var(--blanco);
  transform: translateY(-1px);
  box-shadow: 0 8px 18px rgba(76, 84, 76, 0.25);
}

.pagination-btn:disabled {
  opacity: 0.45;
  cursor: not-allowed;
  background: rgba(255, 255, 255, 0.5);
  color: rgba(76, 84, 76, 0.65);
  box-shadow: none;
  transform: none;
}

body.dark-mode .pagination-btn {
  background: rgba(76, 84, 76, 0.3);
  color: var(--blanco);
  border-color: rgba(255, 255, 255, 0.6);
}

body.dark-mode .pagination-btn:hover {
  background: var(--verde-oliva);
  color: var(--negro-carbon);
}

body.dark-mode .pagination-btn:disabled {
  background: rgba(76, 84, 76, 0.25);
  color: rgba(255, 255, 255, 0.55);
}

.pagination-info {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-family: 'Montserrat', sans-serif;
  font-size: 0.95rem;
  color: var(--texto-secundario);
}

body.dark-mode .pagination-info {
  color: rgba(255, 255, 255, 0.75);
}

.pagination-select {
  appearance: none;
  border: 2px solid var(--verde-oliva);
  border-radius: 999px;
  padding: 0.35rem 1.75rem 0.35rem 0.75rem;
  font-weight: 600;
  color: var(--verde-oliva);
  background: rgba(255, 255, 255, 0.95);
  cursor: pointer;
  transition: var(--transicion-normal);
}

.pagination-select:hover {
  box-shadow: 0 0 0 4px rgba(76, 84, 76, 0.12);
}

.pagination-select:focus {
  outline: none;
  box-shadow: 0 0 0 4px rgba(76, 84, 76, 0.2);
}

body.dark-mode .pagination-select {
  border-color: rgba(255, 255, 255, 0.6);
  color: var(--blanco);
  background: rgba(18, 18, 18, 0.9);
}

body.dark-mode .pagination-select:hover {
  box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.15);
}

.pagination-total {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--gris-grafito);
  font-family: 'Montserrat', sans-serif;
}

body.dark-mode .pagination-total {
  color: rgba(255, 255, 255, 0.6);
}

@media (max-width: 768px) {
  .habitaciones-pagination {
    flex-direction: column;
    align-items: stretch;
    gap: 0.85rem;
    padding: 0.75rem 1rem;
  }

  .habitaciones-pagination .pagination-btn {
    width: 100%;
    justify-content: center;
  }

  .habitaciones-pagination .pagination-info {
    justify-content: center;
  }

  .habitaciones-pagination .pagination-total {
    text-align: center;
  }
}

@media (max-width: 480px) {
  .pagination-info {
    flex-direction: column;
    gap: 0.35rem;
  }

  .pagination-select {
    width: 100%;
    text-align: center;
  }
  
  /* Usuarios - Mobile extra small */
  .usuario-card {
    padding: 0.875rem;
    border-radius: 10px;
  }
  
  .usuario-header {
    gap: 0.75rem;
    margin-bottom: 0.875rem;
    padding-bottom: 0.75rem;
  }
  
  .usuario-avatar {
    width: 44px;
    height: 44px;
    font-size: 1.1rem;
  }
  
  .usuario-nombre {
    font-size: 0.95rem;
  }
  
  .badge-rol {
    font-size: 0.65rem;
    padding: 0.25rem 0.6rem;
  }
  
  .detalle-item {
    font-size: 0.75rem;
    padding: 0.4rem 0.55rem;
  }
  
  .detalle-item i {
    font-size: 0.9rem;
    width: 16px;
  }
  
  .sesion-label {
    font-size: 0.6rem;
  }
  
  .sesion-valor {
    font-size: 0.75rem;
  }
  
  .usuario-sesiones {
    font-size: 0.75rem;
    padding: 0.35rem 0.65rem;
  }
  
  .usuario-switch-container {
    padding: 0.5rem;
  }
  
  .checkbox-wrapper-35 .switch + label {
    font-size: 10px;
  }
  
  .checkbox-wrapper-35 .switch + label::before {
    width: 28px;
    height: 16px;
    margin-right: 8px;
  }
  
  .checkbox-wrapper-35 .switch + label::after {
    width: 12px;
    height: 12px;
  }
  
  .checkbox-wrapper-35 .switch:checked + label::after {
    -webkit-transform: translate3d(12px, 0, 0);
    transform: translate3d(12px, 0, 0);
  }
  
  .checkbox-wrapper-35 {
    --switch-toggle-width: 70px;
  }

  .checkbox-wrapper-35 .switch + label .switch-x-toggletext {
    font-size: 9px;
  }
}

/* ========================================
   SKELETON LOADING - Lazy Loading Cards (OPTIMIZADO GPU)
   ======================================== */
.skeleton-card {
  background: var(--bg-principal);
  border: 4px solid var(--border-color);
  border-radius: var(--radio-grande);
  padding: 1.5rem;
  min-height: 200px;
  animation: skeleton-pulse 1.5s ease-in-out infinite;
  /* Optimización GPU */
  will-change: opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
}

@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

.skeleton-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 3px solid var(--border-color);
}

.skeleton-icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.2s infinite linear;
  /* Optimización GPU */
  will-change: background-position;
  transform: translateZ(0);
}

.skeleton-text-group {
  flex: 1;
  margin-left: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.skeleton-line {
  height: 16px;
  border-radius: 4px;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.2s infinite linear;
  /* Optimización GPU */
  will-change: background-position;
  transform: translateZ(0);
}

.skeleton-title {
  width: 60%;
  height: 20px;
}

.skeleton-subtitle {
  width: 40%;
  height: 14px;
}

.skeleton-badge {
  width: 80px;
  height: 28px;
  border-radius: var(--radio-pequeno);
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.2s infinite linear;
  /* Optimización GPU */
  will-change: background-position;
  transform: translateZ(0);
}

.skeleton-content {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.skeleton-actions {
  display: flex;
  gap: 0.75rem;
  justify-content: flex-end;
}

.skeleton-button {
  width: 100px;
  height: 36px;
  border-radius: var(--radio-pequeno);
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.2s infinite linear;
  /* Optimización GPU */
  will-change: background-position;
  transform: translateZ(0);
}

/* Animación más rápida y suave */
@keyframes skeleton-shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Animación de aparición diagonal para cards reales - OPTIMIZADA */
.cuarto-lazy.card-appear {
  animation: cardAppearDiagonal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  /* will-change para optimización GPU */
  will-change: transform, opacity;
}

@keyframes cardAppearDiagonal {
  0% {
    opacity: 0;
    /* transform3d para forzar aceleración GPU */
    transform: translate3d(-20px, -20px, 0) scale(0.9);
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

/* Limpiar will-change después de la animación */
.habitacion-card {
  will-change: auto;
}

/* Dark mode skeleton */
body.dark-mode .skeleton-icon,
body.dark-mode .skeleton-line,
body.dark-mode .skeleton-badge,
body.dark-mode .skeleton-button {
  background: linear-gradient(90deg, #2a2a2a 25%, #3a3a3a 50%, #2a2a2a 75%);
  background-size: 200% 100%;
}

body.dark-mode .skeleton-card {
  background: var(--bg-principal);
  border-color: var(--border-color);
}

.habitacion-card {
  background: var(--bg-principal);
  border: 4px solid var(--border-color);
  border-radius: var(--radio-grande);
  padding: 1.5rem;
  box-shadow: 8px 8px 0 var(--gris-oscuro);
  transition: var(--transicion-normal);
  position: relative;
  overflow: hidden;
}

.habitacion-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, var(--verde-oliva) 0%, var(--rojo-vino) 100%);
}

.habitacion-card:hover {
  transform: translate(-3px, -3px);
  box-shadow: 11px 11px 0 var(--gris-oscuro);
}

.habitacion-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 3px solid var(--border-color);
}

.habitacion-titulo {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.habitacion-icon {
  font-size: 2rem;
  color: var(--verde-oliva);
}

.habitacion-nombre {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--texto-principal);
}

.habitacion-edificio {
  font-size: 0.85rem;
  color: var(--texto-secundario);
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

.habitacion-estado-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.4rem 0.8rem;
  border-radius: var(--radio-pequeno);
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border: 2px solid var(--negro-carbon);
}

.estado-ocupado {
  background: var(--prioridad-alta);
  color: var(--blanco);
}

.estado-vacio {
  background: var(--prioridad-baja);
  color: var(--blanco);
}

.estado-mantenimiento {
  background: var(--prioridad-media);
  color: var(--negro-carbon);
}

.estado-fuera-servicio {
  background: var(--gris-grafito);
  color: var(--blanco);
}

.habitacion-servicios {
  display: flex;
  flex-direction: column;
  margin-bottom: 1rem;
}

.servicio-item-wrapper {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.8rem;
}

.servicio-item-wrapper:last-child {
  margin-bottom: 0;
}

/* Para servicios que no están en wrapper (modo normal) */
.habitacion-servicios > .servicio-item {
  margin-bottom: 0.8rem;
}

.habitacion-servicios > .servicio-item:last-child {
  margin-bottom: 0;
}

.servicio-item-wrapper.modo-edicion .servicio-item {
  cursor: default;
}

.servicio-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.8rem;
  background: var(--gris-claro);
  border-left: 4px solid var(--verde-oliva);
  border-radius: var(--radio-pequeno);
  transition: var(--transicion-rapida);
  cursor: pointer;
  flex: 1;
}

.servicio-item:hover {
  transform: translateX(3px);
  background: var(--gris-separador);
}

.servicio-item-wrapper.modo-edicion .servicio-item:hover {
  transform: none;
}

.servicio-item.servicio-alerta {
  border-left-color: var(--prioridad-media);
  background: rgba(255, 181, 0, 0.05);
}

.btn-eliminar-inline {
  background: var(--rojo-vino);
  color: var(--blanco);
  border: 2px solid var(--negro-carbon);
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transicion-rapida);
  flex-shrink: 0;
  animation: slideInRight 0.3s ease;
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.btn-eliminar-inline:hover {
  background: var(--color-peligro);
  transform: scale(1.1) rotate(10deg);
  box-shadow: 0 4px 12px rgba(161, 92, 92, 0.4);
}

.btn-eliminar-inline:active {
  transform: scale(0.95);
}

.btn-eliminar-inline i {
  font-size: 0.85rem;
}

.habitacion-boton.modo-edicion-activo {
  background: var(--verde-oliva);
  color: var(--blanco);
  border-color: var(--verde-oliva);
}

.habitacion-boton.modo-edicion-activo:hover {
  background: var(--verde-oliva);
  color: var(--blanco);
  border-color: var(--verde-oliva);
  transform: translate(-2px, -2px);
  box-shadow: 4px 4px 0 var(--negro-carbon);
}

/* ========================================
   FORMULARIO DE EDICIÓN INLINE
   ======================================== */
.servicio-form-inline {
  flex: 1;
  padding: 1rem;
  background: var(--blanco);
  border: 3px solid var(--verde-oliva);
  border-radius: var(--radio-medio);
  animation: slideDown 0.3s ease;
}

.servicio-form-inline.servicio-alerta {
  border-color: var(--prioridad-media);
}

.form-inline-header {
  margin-bottom: 0.8rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--gris-separador);
}

.input-edicion-inline {
  width: 100%;
  padding: 0.6rem;
  border: 2px solid var(--border-color);
  border-radius: var(--radio-pequeno);
  font-size: 0.9rem;
  font-family: inherit;
  background: var(--bg-principal);
  color: var(--texto-principal);
  margin-bottom: 0.6rem;
  transition: var(--transicion-rapida);
}

.input-edicion-inline:focus {
  outline: none;
  border-color: var(--verde-oliva);
  background: var(--gris-claro);
  box-shadow: 0 0 0 3px rgba(76, 84, 76, 0.1);
}

.form-inline-row {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.6rem;
}

.input-edicion-inline.input-small {
  margin-bottom: 0;
}

.semaforo-edicion-inline {
  display: flex;
  justify-content: space-around;
  gap: 0.5rem;
  padding: 0.6rem;
  background: var(--gris-claro);
  border-radius: var(--radio-pequeno);
  margin-bottom: 0.8rem;
}

.semaforo-label-inline {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  position: relative;
}

.semaforo-label-inline-text {
  flex-direction: column;
  gap: 0.2rem;
}

.semaforo-label-inline input {
  display: none;
}

.semaforo-circle {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 3px solid var(--negro-carbon);
  transition: all 0.3s ease;
  opacity: 0.5;
}

.semaforo-circle.green {
  background: var(--estado-bueno);
}

.semaforo-circle.yellow {
  background: var(--estado-regular);
}

.semaforo-circle.red {
  background: var(--estado-malo);
}

.semaforo-label-inline:hover .semaforo-circle {
  transform: scale(1.15);
  opacity: 0.8;
}

.semaforo-label-inline input:checked + .semaforo-circle {
  opacity: 1;
  transform: scale(1.2);
}

.semaforo-label-inline input:checked + .semaforo-circle.green {
  background: var(--estado-bueno);
  box-shadow: 0 0 15px var(--estado-bueno);
}

.semaforo-label-inline input:checked + .semaforo-circle.yellow {
  background: var(--estado-regular);
  box-shadow: 0 0 15px var(--estado-regular);
}

.semaforo-label-inline input:checked + .semaforo-circle.red {
  background: var(--estado-malo);
  box-shadow: 0 0 15px var(--estado-malo);
}

.semaforo-text-inline {
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--texto-principal);
  text-transform: uppercase;
}

.form-inline-acciones {
  display: flex;
  gap: 0.5rem;
}

.btn-form-inline {
  flex: 1;
  padding: 0.6rem;
  border: 2px solid var(--border-color);
  border-radius: var(--radio-pequeno);
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transicion-rapida);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
}

.btn-form-inline.btn-cancelar {
  background: var(--blanco);
  color: var(--texto-principal);
}

.btn-form-inline.btn-cancelar:hover {
  background: var(--gris-claro);
  border-color: var(--rojo-vino);
  color: var(--rojo-vino);
}

.btn-form-inline.btn-guardar {
  background: var(--verde-oliva);
  color: var(--blanco);
  border-color: var(--verde-oliva);
}

.btn-form-inline.btn-guardar:hover {
  background: var(--negro-carbon);
  border-color: var(--negro-carbon);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.btn-form-inline:active {
  transform: scale(0.95);
}

.servicio-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}

.servicio-descripcion {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--texto-principal);
}

.servicio-meta {
  font-size: 0.8rem;
  color: var(--texto-secundario);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.servicio-tipo-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.2rem 0.5rem;
  background: var(--negro-carbon);
  color: var(--blanco);
  border-radius: var(--radio-pequeno);
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
}

.servicio-alerta .servicio-tipo-badge {
  background: var(--prioridad-media);
  color: var(--negro-carbon);
}

.ver-mas-servicios {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.2rem;
  margin-top: 0.5rem;
  background: var(--gris-claro);
  border: 2px dashed var(--border-color);
  border-radius: var(--radio-pequeno);
  cursor: pointer;
  transition: var(--transicion-rapida);
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--texto-secundario);
}

.ver-mas-servicios:hover {
  background: var(--gris-separador);
  border-style: solid;
  color: var(--texto-principal);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.ver-mas-servicios i {
  font-size: 1.2rem;
  color: var(--verde-oliva);
}

.habitacion-acciones {
  display: flex;
  gap: 0.8rem;
  margin-top: 1rem;
}

.habitacion-boton {
  flex: 1;
  padding: 0.8rem;
  border: 3px solid var(--border-color);
  background: var(--bg-principal);
  color: var(--texto-principal);
  font-weight: 700;
  font-size: 0.9rem;
  cursor: pointer;
  transition: var(--transicion-rapida);
  border-radius: var(--radio-medio);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.habitacion-boton:hover {
  transform: translate(-2px, -2px);
  box-shadow: 4px 4px 0 var(--negro-carbon);
}

.habitacion-boton.boton-principal {
  background: var(--verde-oliva);
  color: var(--blanco);
  border-color: var(--verde-oliva);
}

.habitacion-boton.boton-secundario {
  background: var(--blanco);
  color: var(--negro-carbon);
}

/* Responsive para modal */
@media (max-width: 768px) {
  .modal-detalles-contenido {
    width: 95%;
    max-width: none;
  }
  
  .modal-detalles-header {
    padding: 1rem;
  }
  
  .modal-detalles-body {
    padding: 1rem;
  }
  
  .detalle-fecha-hora {
    flex-direction: column;
    gap: 0.5rem;
  }
}

/* ========================================
   FORMULARIO INLINE EN CARD
   ======================================== */
.form-servicio-inline {
  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  padding: 1rem;
  margin-bottom: 0.8rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.form-inline-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.8rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--gris-separador);
  font-weight: 700;
  color: var(--negro-carbon);
  font-size: 0.95rem;
}

.form-inline-header i {
  color: var(--verde-oliva);
}

.btn-cerrar-inline {
  margin-left: auto;
  background: none;
  border: none;
  padding: 0.3rem;
  cursor: pointer;
  color: var(--gris-grafito);
  transition: color 0.2s;
}

.btn-cerrar-inline:hover {
  color: var(--negro-carbon);
}

.form-servicio-inline form {
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
}

.input-inline {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid var(--border-color);
  border-radius: var(--radio-pequeno);
  font-size: 0.85rem;
  font-family: inherit;
  background: var(--blanco);
  transition: all 0.2s;
}

.input-inline:focus {
  outline: none;
  border-color: var(--verde-oliva);
  box-shadow: 0 0 0 3px rgba(106, 135, 89, 0.1);
}

.tipo-toggle-inline {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.toggle-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  user-select: none;
}

.toggle-checkbox {
  display: none;
}

.toggle-switch {
  position: relative;
  width: 50px;
  height: 26px;
  background: var(--gris-grafito);
  border-radius: 15px;
  border: 2px solid var(--negro-carbon);
  transition: background 0.3s;
}

.toggle-switch::before {
  content: '';
  position: absolute;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  background: var(--blanco);
  border: 2px solid var(--negro-carbon);
  transition: transform 0.3s;
}

.toggle-checkbox:checked + .toggle-switch {
  background: var(--prioridad-media);
}

.toggle-checkbox:checked + .toggle-switch::before {
  transform: translateX(24px);
}

.toggle-text {
  font-size: 0.85rem;
  font-weight: 600;
}

.toggle-text .tipo-averia {
  color: var(--gris-grafito);
}

.toggle-text .tipo-alerta {
  display: none;
  color: var(--prioridad-media);
}

.toggle-checkbox:checked ~ .toggle-text .tipo-averia {
  display: none;
}

.toggle-checkbox:checked ~ .toggle-text .tipo-alerta {
  display: inline;
}

.campos-alerta-inline {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 0.8rem;
  background: #fff9e6;
  border: 2px dashed var(--prioridad-media);
  border-radius: var(--radio-pequeno);
}

.prioridad-selector-inline {
  margin: 0.8rem 0;
}

.prioridad-label-inline {
  display: block;
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--negro-carbon);
  margin-bottom: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.prioridad-label-inline i {
  margin-right: 0.3rem;
  color: var(--prioridad-media);
}

.prioridad-inline {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.prioridad-item {
  flex: 1;
  min-width: 80px;
  cursor: pointer;
}

.prioridad-item input {
  display: none;
}

.prioridad-badge {
  display: block;
  padding: 0.4rem 0.6rem;
  text-align: center;
  border: 2px solid var(--border-color);
  border-radius: var(--radio-pequeno);
  font-size: 0.8rem;
  font-weight: 600;
  background: var(--blanco);
  transition: all 0.2s;
}

.prioridad-item input:checked + .prioridad-badge {
  border-color: var(--negro-carbon);
  box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
}

.prioridad-badge.baja {
  color: #10b981;
}

.prioridad-item input:checked + .prioridad-badge.baja {
  background: #d1fae5;
}

.prioridad-badge.media {
  color: #f59e0b;
}

.prioridad-item input:checked + .prioridad-badge.media {
  background: #fef3c7;
}

.prioridad-badge.alta {
  color: #ef4444;
}

.prioridad-item input:checked + .prioridad-badge.alta {
  background: #fee2e2;
}

.form-inline-actions {
  display: flex;
  gap: 0.5rem;
  margin-top: 0.3rem;
}

.btn-inline {
  flex: 1;
  padding: 0.6rem 1rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  font-size: 0.85rem;
  font-weight: 700;
  font-family: inherit;
  cursor: pointer;
  transition: all 0.2s;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.btn-cancelar {
  background: var(--blanco);
  color: var(--gris-grafito);
}

.btn-cancelar:hover {
  background: var(--gris-claro);
  transform: translateY(-1px);
}

.btn-guardar {
  background: var(--verde-oliva);
  color: var(--blanco);
}

.btn-guardar:hover {
  background: #5a7246;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.btn-guardar i {
  margin-right: 0.3rem;
}

/* Selector de Estado Inline */

.estado-label-inline {
  display: block;
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--negro-carbon);
  margin-bottom: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.estado-pills-inline {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.4rem;
}

.estado-pill-inline {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.3rem;
  padding: 0.5rem 0.3rem;
  border: 2px solid var(--border-color);
  border-radius: var(--radio-pequeno);
  background: var(--blanco);
  cursor: pointer;
  transition: all 0.2s;
  font-size: 0.75rem;
  font-weight: 600;
  text-align: center;
}

.estado-pill-inline:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.estado-pill-inline.activo {
  border-color: var(--negro-carbon);
  border-width: 3px;
  box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
}

.pill-dot-inline {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid var(--negro-carbon);
}

.estado-pill-inline.disponible .pill-dot-inline {
  background: #10b981;
}

.estado-pill-inline.ocupado .pill-dot-inline {
  background: #3b82f6;
}

.estado-pill-inline.mantenimiento .pill-dot-inline {
  background: #f59e0b;
}

.estado-pill-inline.fuera-servicio .pill-dot-inline {
  background: #ef4444;
}

.pill-text-inline {
  font-size: 0.7rem;
  white-space: nowrap;
}

@media (max-width: 500px) {
  .estado-pills-inline {
    grid-template-columns: repeat(2, 1fr);
  }
}


/* Resumen mejorado estilo Alertas */
.resumen-tarea-item-mejorado {
  transition: all 0.2s ease;
}

.resumen-tarea-item-mejorado:hover {
  transform: translateX(2px);
  box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.12);
}

.resumen-tarea-item-mejorado.item-urgente {
  border-left: 4px solid #ef4444;
}

.badge-numero-simple {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 40px;
  padding: 0.4rem 0.75rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  background: var(--blanco);
  color: var(--negro-carbon);
  font-size: 1.1rem;
  font-weight: 900;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.1);
}

.badge-numero-simple.pendiente {
  background: var(--blanco);
  color: var(--negro-carbon);
}

.badge-numero-simple.proceso {
  background: var(--blanco);
  color: var(--negro-carbon);
}

.badge-numero-simple.completada {
  background: var(--blanco);
  color: var(--negro-carbon);
}

.badge-numero-simple.urgente {
  background: var(--blanco);
  color: var(--negro-carbon);
  animation: pulse-urgente 2s ease-in-out infinite;
}

@keyframes pulse-urgente {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.15); }
}

.rol-label-header {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  background: var(--amarillo-vivo);
  font-size: 0.85rem;
  font-weight: 700;
  text-transform: capitalize;
  margin-left: 0.5rem;
}

/* Lista de Tareas por Hacer */
.lista-tareas-pendientes {
  max-height: 400px;
}

.lista-resumen-sin-scroll {
  max-height: none !important;
  overflow: visible !important;
}

.tarea-pendiente-card {
  padding: 1rem;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: var(--blanco);
  box-shadow: 5px 5px 0 rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.tarea-pendiente-card:hover {
  transform: translate(-2px, -2px);
  box-shadow: 7px 7px 0 rgba(0, 0, 0, 0.15);
}

.tarea-pendiente-card.prioridad-alta {
  border-left: 6px solid #ef4444;
  background: linear-gradient(to right, #fef2f2 0%, var(--blanco) 15%);
}

.tarea-pendiente-card.prioridad-media {
  border-left: 6px solid #f59e0b;
  background: linear-gradient(to right, #fffbeb 0%, var(--blanco) 15%);
}

.tarea-pendiente-card.prioridad-baja {
  border-left: 6px solid #10b981;
  background: linear-gradient(to right, #f0fdf4 0%, var(--blanco) 15%);
}

.tarea-pendiente-header {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.tarea-pendiente-icon {
  width: 44px;
  height: 44px;
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--verde-oliva), var(--negro-carbon));
  color: var(--blanco);
  font-size: 1.25rem;
  flex-shrink: 0;
}

.tarea-pendiente-titulo-bloque {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.tarea-pendiente-titulo {
  font-weight: 800;
  font-size: 1rem;
  color: var(--negro-carbon);
  margin: 0;
  line-height: 1.3;
}

.tarea-pendiente-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.badge-urgente-mini {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.2rem 0.5rem;
  border: 2px solid #ef4444;
  border-radius: var(--radio-pequeno);
  background: #fee2e2;
  color: #991b1b;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  animation: pulse-badge 2s ease-in-out infinite;
}

@keyframes pulse-badge {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.tarea-pendiente-descripcion {
  margin: 0;
  font-size: 0.9rem;
  color: var(--texto-principal);
  line-height: 1.5;
}

.tarea-pendiente-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  padding-top: 0.5rem;
  border-top: 2px solid rgba(0, 0, 0, 0.08);
}

.meta-item {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  font-size: 0.8rem;
  color: var(--gris-grafito);
  padding: 0.25rem 0.5rem;
  border-radius: var(--radio-pequeno);
  background: rgba(0, 0, 0, 0.03);
}

.meta-item i {
  font-size: 0.75rem;
  color: var(--verde-oliva);
}

.meta-vencimiento.meta-urgente {
  background: #fee2e2;
  color: #991b1b;
  font-weight: 700;
}

.meta-vencimiento.meta-urgente i {
  color: #ef4444;
}

.meta-estado.estado-en-proceso {
  background: #dbeafe;
  color: #1e40af;
  font-weight: 600;
}

.meta-estado.estado-pendiente {
  background: #fef3c7;
  color: #92400e;
  font-weight: 600;
}

.tarea-pendiente-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.tarea-tag-mini {
  padding: 0.25rem 0.6rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  font-size: 0.7rem;
  font-weight: 600;
  background: var(--blanco);
  color: var(--negro-carbon);
}

.tarea-pendiente-footer {
  display: flex;
  gap: 0.5rem;
  padding-top: 0.5rem;
  border-top: 2px solid rgba(0, 0, 0, 0.08);
}

.btn-tarea-mini {
  flex: 1;
  padding: 0.5rem 0.75rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: var(--blanco);
  color: var(--negro-carbon);
  font-size: 0.8rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.35rem;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.1);
}

.btn-tarea-mini:hover {
  background: var(--negro-carbon);
  color: var(--blanco);
  transform: translate(-1px, -1px);
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.15);
}

.btn-tarea-mini:active {
  transform: translate(1px, 1px);
  box-shadow: 1px 1px 0 rgba(0, 0, 0, 0.1);
}

.btn-iniciar {
  background: var(--verde-oliva);
  color: var(--blanco);
  border-color: var(--verde-oliva);
}

.btn-iniciar:hover {
  background: var(--negro-carbon);
  border-color: var(--negro-carbon);
}

.badge-contador-tareas {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  height: 32px;
  padding: 0.25rem 0.5rem;
  border: 2px solid var(--negro-carbon);
  border-radius: 50%;
  background: var(--amarillo-vivo);
  color: var(--negro-carbon);
  font-size: 0.95rem;
  font-weight: 900;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.15);
  margin-left: auto;
}

.subtitulo-seccion {
  margin: 2rem 0 1rem 0;
  font-size: 1.15rem;
  font-weight: 800;
  color: var(--negro-carbon);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 3px solid var(--negro-carbon);
}

.subtitulo-seccion i {
  color: var(--verde-oliva);
}

.lista-timeline-vencimientos {
  max-height: 285px;
  overflow-y: auto;
  padding-right: 0.35rem;
}

.lista-timeline-vencimientos::-webkit-scrollbar {
  width: 6px;
}

.lista-timeline-vencimientos::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 10px;
}

.lista-timeline-vencimientos::-webkit-scrollbar-thumb {
  background: var(--verde-oliva);
  border-radius: 10px;
}

.lista-timeline-vencimientos::-webkit-scrollbar-thumb:hover {
  background: var(--negro-carbon);
}

/* ========================================
   TAREAS - FORMATO BRUTALISTA
   ======================================== */

.tarea-card {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding: 1.35rem;
  cursor: default;
}

.tarea-card-header {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.tarea-card-header-top {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1rem;
  flex-wrap: wrap;
  width: 100%;
}

.tarea-card-body {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.tarea-card-header-top > .tarea-estado-pill,
.tarea-card-header-top > .nivel-alerta-badge {
  flex: 1 1 0;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 48px;
  font-size: 0.9rem;
  text-align: center;
  border-width: 2px;
}

.tarea-card-header-top > .nivel-alerta-badge {
  gap: 0.4rem;
}

.tarea-card-header-top > .nivel-alerta-badge .semaforo-indicator {
  margin-right: 0;
}

.tarea-card-semaforo {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  flex-wrap: wrap;
}

.tarea-header-line {
  width: 100%;
  height: 0;
  border-top: 2px solid var(--negro-carbon);
  margin-top: 0.25rem;
}

.tarea-card-header .nivel-alerta-badge {
  font-size: 0.85rem;
  text-transform: uppercase;
}

.tarea-card-header .semaforo-indicator {
  width: 16px;
  height: 16px;
}

.tarea-codigo {
  font-family: 'Courier New', monospace;
  font-weight: 700;
  letter-spacing: 0.08em;
  padding: 0.3rem 0.65rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  background: var(--blanco);
  font-size: 0.85rem;
}

.tarea-card-deadline {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.4rem 0.9rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  font-size: 0.85rem;
  font-weight: 700;
  background: var(--gris-claro);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.tarea-card-deadline i {
  color: currentColor;
}

.tarea-card-deadline.urgente {
  border-color: var(--rojo-vino);
  background: rgba(161, 92, 92, 0.15);
  color: var(--rojo-vino);
}

.tarea-card-info {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.tarea-card-title {
  margin: 0;
  font-size: 1.2rem;
  color: var(--negro-carbon);
  line-height: 1.3;
}

.tarea-card-ubicacion {
  margin: 0;
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--gris-carbon);
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  font-weight: 700;
}

.tarea-card-ubicacion i {
  color: var(--verde-oliva);
}

.tarea-card-tagsline {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
  padding: 0.8rem 0;
  border-top: 2px dashed var(--gris-separador);
  border-bottom: 2px dashed var(--gris-separador);
}

.tarea-tags-preview {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.tarea-tag-pill {
  border: 2px solid var(--negro-carbon);
  border-radius: 999px;
  padding: 0.2rem 0.85rem;
  font-size: 0.75rem;
  font-weight: 600;
  background: var(--blanco);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.tarea-tag-pill.tarea-tag-extra {
  background: var(--gris-claro);
}

.tarea-card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

.tarea-responsable-block {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.tarea-avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: 3px solid var(--negro-carbon);
  background: var(--gris-claro);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1rem;
  text-transform: uppercase;
}

.tarea-responsable-info {
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
  line-height: 1.2;
}

.tarea-responsable-info .label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--gris-carbon);
  font-weight: 700;
}

.tarea-card-actions {
  display: flex;
  gap: 0.5rem;
  justify-content: flex-end;
  flex-shrink: 0;
}

.vence-indicador {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.35rem 1rem;
  border: 2px solid var(--negro-carbon);
  border-radius: 999px;
  font-size: 0.85rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  background: var(--blanco);
}

.vence-indicador i {
  font-size: 0.85rem;
}

.vence-indicador.vence-alerta-baja {
  background: rgba(0, 153, 0, 0.15);
  color: #006600;
}

.vence-indicador.vence-alerta-media {
  background: rgba(255, 181, 0, 0.2);
  color: #8b5d00;
}

.vence-indicador.vence-alerta-alta {
  background: rgba(153, 0, 0, 0.18);
  color: #7a0202;
}

.vence-indicador.vence-alerta-baja i,
.vence-indicador.vence-alerta-media i,
.vence-indicador.vence-alerta-alta i {
  color: currentColor;
}

.tarea-acciones {
  display: flex;
  gap: 0.5rem;
  padding-top: 0.5rem;
  border-top: 2px solid var(--gris-separador);
}

.btn-cuarto-action {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  padding: 0.6rem 1rem;
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  background: var(--blanco);
  color: var(--negro-carbon);
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transicion-rapida);
}

.btn-cuarto-action i {
  font-size: 0.9rem;
}

.btn-cuarto-action:hover {
  background: var(--negro-carbon);
  color: var(--blanco);
  transform: translateY(-1px);
}

.btn-cuarto-action:active {
  transform: translateY(0);
}

.btn-ver {
  background: var(--verde-oliva);
  border-color: var(--verde-oliva);
  color: var(--blanco);
}

.btn-ver:hover {
  background: var(--negro-carbon);
  border-color: var(--negro-carbon);
}

.btn-iniciar,
.btn-continuar {
  background: var(--rojo-vino);
  border-color: var(--rojo-vino);
  color: var(--blanco);
}

.btn-iniciar:hover,
.btn-continuar:hover {
  background: var(--negro-carbon);
  border-color: var(--negro-carbon);
}

.tarea-info-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.5rem;
}

.tarea-estado-pill {
  padding: 0.3rem 0.8rem;
  border: 2px solid var(--negro-carbon);
  border-radius: 999px;
  font-size: 0.78rem;
  font-weight: 700;
  text-transform: uppercase;
  background: var(--blanco);
}

.tarea-estado-pill.estado-completada {
  background: rgba(0, 153, 0, 0.18);
  color: #017501;
}

.tarea-estado-pill.estado-en-proceso {
  background: rgba(52, 152, 219, 0.18);
  color: #1b5fa3;
}

.tarea-estado-pill.estado-pendiente {
  background: rgba(255, 204, 0, 0.18);
  color: #a66b00;
}

.tarea-tags-mini {
  display: flex;
  flex-wrap: wrap;
  gap: 0.35rem;
}

.tarea-tag-mini {
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-pequeno);
  padding: 0.2rem 0.65rem;
  font-size: 0.7rem;
  font-weight: 600;
  background: var(--gris-claro);
}

.meta-tag.meta-deadline.urgente {
  border-color: var(--rojo-vino);
  color: var(--rojo-vino);
  background: rgba(161, 92, 92, 0.15);
}

.btn-tarea-accion.accion-iniciar,
.btn-tarea-modal.accion-iniciar {
  background: var(--amarillo-vivo);
  border-color: var(--negro-carbon);
  color: var(--negro-carbon);
}

.btn-tarea-accion.accion-completar,
.btn-tarea-modal.accion-completar {
  background: var(--verde-oliva);
  border-color: var(--negro-carbon);
  color: var(--blanco);
}

.btn-tarea-accion.accion-reabrir,
.btn-tarea-modal.accion-reabrir {
  background: var(--gris-grafito);
  border-color: var(--negro-carbon);
  color: var(--blanco);
}

.btn-tarea-accion.accion-iniciar:hover,
.btn-tarea-accion.accion-completar:hover,
.btn-tarea-accion.accion-reabrir:hover,
.btn-tarea-modal.accion-iniciar:hover,
.btn-tarea-modal.accion-completar:hover,
.btn-tarea-modal.accion-reabrir:hover {
  background: var(--negro-carbon);
  color: var(--blanco);
}

.tarea-modal {
  width: min(560px, calc(100% - 2rem));
  max-width: 560px;
}

.tarea-modal-heading {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.tarea-modal-pills-inline {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.tarea-modal-pills-inline .tarea-modal-pill {
  margin: 0;
}

.tarea-modal-body {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.tarea-modal-descripcion {
  font-size: 0.95rem;
  line-height: 1.5;
  margin: 0;
  color: var(--gris-carbon);
}

.tarea-modal-pills {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.tarea-modal-pill {
  border: 3px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  padding: 0.35rem 0.9rem;
  text-transform: uppercase;
  font-weight: 700;
  font-size: 0.8rem;
  letter-spacing: 0.04em;
}

.tarea-modal-pill.alerta-prioridad-alta {
  background: var(--prioridad-alta);
  border-color: var(--prioridad-alta);
  color: var(--blanco);
  box-shadow: 0 3px 0 rgba(0, 0, 0, 0.15);
}

.tarea-modal-pill.alerta-prioridad-media {
  background: var(--prioridad-media);
  border-color: var(--prioridad-media);
  color: var(--negro-carbon);
  box-shadow: 0 3px 0 rgba(0, 0, 0, 0.12);
}

.tarea-modal-pill.alerta-prioridad-baja {
  background: var(--prioridad-baja);
  border-color: var(--prioridad-baja);
  color: var(--blanco);
  box-shadow: 0 3px 0 rgba(0, 0, 0, 0.12);
}

.tarea-modal-pill.estado-en-proceso {
  background: #1b5fa3;
  border-color: #1b5fa3;
  color: var(--blanco);
}

.tarea-modal-pill.estado-pendiente {
  background: #b8860b;
  border-color: #b8860b;
  color: var(--blanco);
}

.tarea-modal-pill.estado-completada {
  background: #017501;
  border-color: #017501;
  color: var(--blanco);
}

.tarea-modal-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 1rem;
}

.tarea-modal-info {
  border: 2px solid var(--negro-carbon);
  border-radius: var(--radio-medio);
  padding: 0.85rem;
  background: var(--gris-claro);
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.tarea-modal-info .label {
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.5px;
  color: var(--gris-carbon);
}

.tarea-modal-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.35rem;
}

.tarea-modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 0.75rem;
}

.btn-tarea-modal {
  min-width: 150px;
}

@media (max-width: 600px) {
  .tarea-modal-actions {
    flex-direction: column-reverse;
  }

  .btn-tarea-modal {
    width: 100%;
  }
}

.modal-editar-tarea .modal-detalles-contenido {
  width: min(640px, calc(100% - 1.5rem));
  max-width: 640px;
  max-height: 90vh;
  overflow-y: auto;
}

.tarea-edit-modal .modal-detalles-body {
  padding: clamp(1rem, 3vw, 1.75rem);
  max-height: none;
  overflow: visible;
}

.tarea-edit-form {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  max-width: 600px;
  margin: 0 auto;
}

.tarea-edit-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 0.9rem;
}

.tarea-edit-grid .form-group {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.tarea-edit-grid .form-group.full {
  grid-column: 1 / -1;
}

.tarea-edit-grid label {
  font-size: 0.85rem;
  font-weight: 700;
  text-transform: uppercase;
  color: var(--gris-carbon);
}

.tarea-edit-grid input,
.tarea-edit-grid textarea,
.tarea-edit-grid select {
  border: 3px solid var(--negro-carbon);
  border-radius: 18px;
  padding: 0.65rem 0.9rem;
  font-size: 0.95rem;
  background: var(--blanco);
  font-family: 'Poppins', sans-serif;
}

.tarea-edit-grid textarea {
  resize: vertical;
}

.tarea-edit-section {
  border: 3px solid var(--negro-carbon);
  border-radius: 24px;
  padding: clamp(0.9rem, 2vw, 1.2rem);
  background: var(--gris-claro);
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
}

.tarea-edit-section .section-header {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 0.35rem;
}

.tarea-edit-section .section-header h4 {
  font-size: 1rem;
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.tarea-edit-section .section-header p {
  font-size: 0.8rem;
  margin: 0;
  color: var(--gris-carbon);
}

.tarea-edit-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.tarea-edit-tag {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  background: var(--blanco);
  border: 2px solid var(--negro-carbon);
  border-radius: 999px;
  padding: 0.25rem 0.75rem;
  font-size: 0.78rem;
  font-weight: 600;
}

.tarea-edit-tag button {
  border: none;
  background: transparent;
  cursor: pointer;
  color: var(--gris-carbon);
}

.tarea-edit-tags-input {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

#tareaEditTagInput {
  flex: 1;
  min-width: 200px;
  border: 3px solid var(--negro-carbon);
  border-radius: 16px;
  padding: 0.5rem 0.9rem;
}

.tarea-edit-attachments {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.upload-label {
  border: 3px dashed var(--negro-carbon);
  border-radius: 20px;
  padding: 0.9rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 700;
  cursor: pointer;
}

.upload-label i {
  font-size: 1.25rem;
}

#tareaEditArchivo {
  display: none;
}

.tarea-edit-adjuntos-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.45rem;
}

.tarea-edit-adjuntos-list li {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: 2px solid var(--negro-carbon);
  border-radius: 14px;
  padding: 0.45rem 0.75rem;
  background: var(--blanco);
  font-size: 0.85rem;
}

.tarea-edit-adjuntos-list li .adjunto-meta {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
}

.tarea-edit-adjuntos-list li button {
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 0.9rem;
}

.tarea-edit-adjuntos-list .adjunto-vacio {
  justify-content: flex-start;
  font-style: italic;
  color: var(--gris-carbon);
}

.tarea-edit-historial {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.65rem;
}

.tarea-edit-historial li {
  border: 2px solid var(--negro-carbon);
  border-radius: 16px;
  padding: 0.65rem 0.85rem;
  background: var(--blanco);
  font-size: 0.85rem;
}

.tarea-edit-historial time {
  font-size: 0.75rem;
  color: var(--gris-carbon);
  display: block;
}

.tarea-edit-actions {
  display: flex;
  justify-content: flex-end;
  gap: 0.6rem;
  flex-wrap: wrap;
}

@media (max-width: 900px) {
  .tarea-edit-grid {
    grid-template-columns: 1fr;
  }

  #tareaEditTagInput {
    min-width: 100%;
  }

  .tarea-edit-actions {
    flex-direction: column-reverse;
  }

  .tarea-edit-actions button {
    width: 100%;
    justify-content: center;
  }
}

/* Responsive */
@media (max-width: 768px) {
  .tarea-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .tarea-titulo-bloque {
    min-width: 100%;
  }

  .tarea-prioridad-pill {
    align-self: flex-start;
  }

  .tarea-footer {
    flex-direction: column;
    align-items: stretch;
  }

  .btn-tarea {
    width: 100%;
    justify-content: center;
  }

  .badge-numero-simple {
    min-width: 32px;
    padding: 0.3rem 0.6rem;
    font-size: 0.95rem;
  }

  .subtitulo-seccion {
    font-size: 1rem;
  }

  .tarea-card {
    padding: 1rem;
  }


/* Mobile tweaks specifically for cards and semáforos (affects <=600px only) */
@media (max-width: 600px) {
  /* Make the brutalist grid single column for clearer cards on small screens */
  .brutalist-grid {
    grid-template-columns: 1fr !important;
    gap: 1rem;
  }

  /* Checklist card header: stack and align information cleanly */
  .checklist-card-header {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    align-items: flex-start;
  }

  .checklist-room-tag {
    display: flex;
    flex-direction: row;
    gap: 0.5rem;
    align-items: baseline;
    width: 100%;
    justify-content: space-between;
  }

  .checklist-room-tag .checklist-room-label {
    font-size: 0.75rem;
    font-weight: 700;
    opacity: 0.9;
    text-transform: uppercase;
  }

  .checklist-room-tag .checklist-room-number {
    font-size: 1.15rem;
    font-weight: 900;
  }

  .checklist-room-sub {
    font-size: 0.8rem;
    color: var(--texto-secundario);
    display: inline-block;
    margin-left: 6px;
  }

  /* Meta area (badges) should wrap and be small but legible */
  .checklist-card-header-meta {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    width: 100%;
  }

  .checklist-badge {
    font-size: 0.72rem;
    padding: 0.25rem 0.5rem;
    border-radius: 8px;
  }

  /* Checklist stats: arrange vertically and increase touch target for dots */
  .checklist-card-stats {
    display: flex;
    gap: 0.5rem;
    width: 100%;
  }

  .checklist-card-stat {
    flex: 1 1 33%;
    padding: 0.5rem 0.5rem;
    align-items: center;
  }

  .checklist-card-stat .semaforo-dot {
    width: 1rem;
    height: 1rem;
    border-width: 2px;
  }

  /* Make the small semáforo used in selects and compact variants more visible on mobile */
  .premium-select[data-semaforo-wrapper="prioridad"] .semaforo-select-indicator,
  .premium-select[data-semaforo-wrapper="estado"] .semaforo-select-indicator {
    left: 10px;
    width: 1rem;
    height: 1rem;
    border-width: 2px;
  }

  .semaforo-horizontal-compact .semaforo-light-compact {
    width: 16px;
    height: 16px;
  }

  /* Inspecciones semáforos — use class-based colors (neutral default) */
  .semaforo-light-compact {
    background: var(--semaforo-muted);
    box-shadow: none;
  }

  /* For checked / selection states ensure contrast */
  .semaforo-label-compact.semaforo-green .semaforo-light-compact,
  .semaforo-label-compact.semaforo-yellow .semaforo-light-compact,
  .semaforo-label-compact.semaforo-red .semaforo-light-compact {
    box-shadow: 0 0 12px currentColor;
  }

  /* Improve spacing inside checklist items (touch friendly) */
  .checklist-item {
    padding: 0.65rem 0.5rem;
    border-radius: 8px;
  }

  /* Keep desktop styling intact: these mobile rules override only under 600px */
}
  .tarea-card-header,
  .tarea-card-tagsline,
  .tarea-card-footer {
    flex-direction: column;
    align-items: flex-start;
  }

  .tarea-header-line {
    display: none;
  }

  .tarea-card-actions {
    width: 100%;
    min-width: 0;
    flex-direction: column;
  }

  .tarea-card-actions .habitacion-boton {
    width: 100%;
  }
}
